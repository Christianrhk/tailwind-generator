<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="UTF-8"> <meta content="width=device-width, initial-scale=1.0" name="viewport"> <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin> <link rel="preconnect" href="https://cdn.dynablogger.com" crossorigin> <link rel="preconnect" href="https://cdn.commento.io" crossorigin> <script defer data-domain="vitobotta.com" src="https://pl.skylinx.workers.dev/blah.js"></script> <link rel="alternate" type="application/rss+xml" title="RSS Feed" href="https://vitobotta.com/feed.rss"> <link as="style" href="https://cdn.dynablogger.com/stylesheets/6M/20220727180055629486-01b373495c826b5f2dc31e0b9b13e640/wA3w/karla.css" rel="preload"> <link href="https://cdn.dynablogger.com/stylesheets/6M/20220727180055629486-01b373495c826b5f2dc31e0b9b13e640/wA3w/karla.css" media="print" onload="this.media='all'" rel="stylesheet"> <noscript> <link href="https://cdn.dynablogger.com/stylesheets/6M/20220727180055629486-01b373495c826b5f2dc31e0b9b13e640/wA3w/karla.css" rel="stylesheet"> </noscript> <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/1.6.2/tailwind.min.css" rel="stylesheet"> <link href="https://cdn.dynablogger.com/stylesheets/6M/20220727180055629486-01b373495c826b5f2dc31e0b9b13e640/Oby0/main.css" rel="stylesheet"> <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/atom-one-dark.min.css" rel="stylesheet"> <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/highlight.min.js"></script> <script defer src="https://commento.botta.me/js/commento.js"></script> <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml"> <title>Kubernetes in DigitalOcean with Rancher</title> <meta name="generator" content="DynaBlogger"> <meta name="author" content="Vito Botta"> <meta name="description" content="This is a follow up to my previous post, in which I show how to deploy Kubernetes to DigitalOcean using the built in support in Rancher."> <link rel="canonical" href="https://vitobotta.com/2020/11/02/kubernetes-digitalocean-rancher/"> <link rel="alternate" hreflang="en" href="https://vitobotta.com/2020/11/02/kubernetes-digitalocean-rancher/"> <link rel="alternate" hreflang="x-default" href="https://vitobotta.com/2020/11/02/kubernetes-digitalocean-rancher/"> <meta property="og:title" content="Kubernetes in DigitalOcean with Rancher"> <meta property="og:type" content="article"> <meta property="og:url" content="https://vitobotta.com/2020/11/02/kubernetes-digitalocean-rancher/"> <meta property="og:description" content="This is a follow up to my previous post, in which I show how to deploy Kubernetes to DigitalOcean using the built in support in Rancher."> <meta property="og:locale" content="en"> <meta property="og:site_name" content="has_many :codes"> <meta property="article:tag" content="Digital Ocean"> <meta property="article:tag" content="rancher"> <meta property="article:tag" content="devops"> <meta property="article:tag" content="kubernetes"> </head> <body> <div class="w-full text-center px-8 py-4 bg-blue-600 text-white"> <div class="w-64 mx-auto flex items-center justify-center justify-between text-lg no-underline text-white"> <a class="hidden" href="#"> <svg aria-hidden="true" class="fab fa-facebook h-6 w-6" data-fa-i2svg="" data-icon="facebook" data-prefix="fab" focusable="false" role="img" viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"> <path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z" fill="currentColor"></path> </svg> </a> <a class="hidden ml-4 lg:ml-6" href="#"> <svg aria-hidden="true" class="fab fa-instagram h-6 w-6" data-fa-i2svg="" data-icon="instagram" data-prefix="fab" focusable="false" role="img" viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"> <path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z" fill="currentColor"></path> </svg> </a> <a class="ml-4 lg:ml-6" href="https://twitter.com/vitobotta" title="Twitter" target="_blank"> <svg aria-hidden="true" class="fab fa-twitter h-6 w-6" data-fa-i2svg="" data-icon="twitter" data-prefix="fab" focusable="false" role="img" viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"> <path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z" fill="currentColor"></path> </svg> </a> <a class="ml-4 lg:ml-6" href="https://www.linkedin.com/in/vitobotta/" title="LinkedIn" target="_blank"> <svg aria-hidden="true" class="h-6 w-6" data-fa-i2svg="" data-icon="linkedin" data-prefix="fab" focusable="false" role="img" viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"> <path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z" fill="currentColor"></path> </svg> </a> <a class="ml-4 lg:ml-6" href="https://github.com/vitobotta" title="Github" target="_blank"> <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewbox="-6.39108 -10.38875 55.38936 62.3325"><g fill="#fff"> <path d="M21.3035 0C9.5395 0 0 9.5373 0 21.3035c0 9.4122 6.1041 17.3976 14.5687 20.2146 1.0646.1972 1.4555-.4622 1.4555-1.0249 0-.5076-.0198-2.1861-.0289-3.9662-5.9266 1.2887-7.1772-2.5136-7.1772-2.5136-.9691-2.462-2.3654-3.1171-2.3654-3.1171-1.9329-1.3222.1457-1.295.1457-1.295 2.1392.1502 3.2656 2.1956 3.2656 2.1956 1.9001 3.2565 4.9837 2.315 6.1994 1.7706.1916-1.3765.7433-2.3167 1.3526-2.8487-4.7319-.5383-9.706-2.3653-9.706-10.5283 0-2.3255.8322-4.2259 2.195-5.7178-.2212-.537-.9504-2.7037.2067-5.638 0 0 1.789-.5723 5.8596 2.184 1.6994-.472 3.5218-.7088 5.3323-.7172 1.8104.008 3.6343.2451 5.3368.7172 4.0661-2.7563 5.8526-2.184 5.8526-2.184 1.1596 2.9343.4304 5.101.2092 5.638 1.366 1.4919 2.1921 3.3923 2.1921 5.7178 0 8.1827-4.9837 9.984-9.7275 10.5114.7642.6611 1.445 1.9576 1.445 3.9451 0 2.8505-.0243 5.1446-.0243 5.8462 0 .5673.3831 1.2316 1.463 1.0224 8.4603-2.8201 14.5566-10.8028 14.5566-20.212C42.6071 9.5372 33.0691 0 21.3036 0" fill-rule="evenodd"></path><path d="M8.0689 30.587c-.047.1061-.2135.1379-.3651.0649-.155-.0695-.2413-.2138-.1913-.32.046-.1087.2124-.139.367-.0663.1545.0695.2426.2152.1894.3214m.863.9625c-.1016.0942-.3006.0504-.435-.0984-.1397-.1485-.1655-.3475-.0624-.4427.1048-.0942.2974-.0501.4367.0984.1397.1503.1669.3475.0607.4427m.8399 1.2268c-.1305.091-.3443.006-.4763-.1834-.1305-.1898-.1305-.417.003-.508.132-.091.3426-.009.4763.1788.1302.1926.1302.4198-.003.5126m1.1506 1.1855c-.1167.1287-.3654.0942-.5475-.0815-.1862-.1718-.238-.4156-.1213-.5444.1185-.129.3686-.0928.552.0815.185.1715.241.417.1168.5444m1.5876.6882c-.052.167-.291.2424-.5324.1715-.241-.073-.3986-.268-.35-.4367.0502-.1683.2908-.247.5338-.1711.2406.0727.3987.2667.3486.4364m1.7435.1275c.006.1757-.1986.3214-.4519.3245-.2547.006-.461-.1365-.4639-.3094 0-.1774.2004-.3213.4547-.326.2533-.005.4611.1366.4611.3109m1.6223-.276c.0303.171-.1457.3471-.3972.394-.2473.0455-.4763-.0607-.5077-.2303-.0307-.1757.1482-.3517.3955-.3972.2519-.0437.4773.0593.5094.2335"></path></g> </svg> </a> <a class="ml-4 lg:ml-6" href="/feed.xml" title="Github" target="_blank"> <svg version="1.1" id="Layer_1" class="h-8 w-8 bg-blue-600" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve"> <g> <path style="fill:#FCFCFC;" d="M155.826,401.252c-24.856,0-45.078-20.222-45.078-45.078c0-24.856,20.222-45.078,45.078-45.078 s45.078,20.222,45.078,45.078C200.904,381.03,180.683,401.252,155.826,401.252z"></path> <path style="fill:#FCFCFC;" d="M249.878,387.908v-10.041c0-63.924-51.821-115.744-115.744-115.744h-10.041 c-1.223,0-2.214-0.992-2.214-2.214v-57.902c0-1.223,0.992-2.214,2.214-2.214h10.041c98.349,0,178.075,79.727,178.075,178.075 v10.041c0,1.223-0.992,2.214-2.214,2.214h-57.902C250.87,390.122,249.878,389.13,249.878,387.908z"></path> <path style="fill:#FCFCFC;" d="M361.183,387.908v-10.041c0-125.395-101.653-227.049-227.049-227.049h-10.041 c-1.223,0-2.214-0.992-2.214-2.214V90.701c0-1.223,0.992-2.214,2.214-2.214h12.255c76.705,0,148.818,29.87,203.057,84.108 c54.239,54.239,84.108,126.352,84.108,203.057v12.256c0,1.223-0.992,2.214-2.214,2.214h-57.902 C362.174,390.122,361.183,389.13,361.183,387.908z"></path> </g> </svg> </a> </div> </div> <div class="w-full text-center p-4 sm:p-8 bg-white"> <div class="text-4xl sm:text-5xl xl:text-6xl text-gray-800 font-semibold"> has_many :codes </div> <div class="mt-2 lg:mt-4 text-xl sm:text-2xl xl:text-3xl text-gray-600">Tips and walkthroughs on web technologies and digital life</div> </div> <div class="w-full text-center p-4 sm:p-8 bg-gray-200 border border-gray-300 border-l-0 border-r-0 mb-8 sm:text-xl"> <ul class="list-none mx-auto w-full max-w-lg flex justify-center flex-wrap"> <li> <a class="uppercase text-xl mx-6" href="/">Home</a> </li> <li> <a class="uppercase text-xl mx-6" href="https://vitobotta.com/about/">About</a> </li> <li> <a class="uppercase text-xl mx-6" href="https://vitobotta.com/geeky-cv/">Geeky CV</a> </li> <li> <a class="uppercase text-xl mx-6" href="https://vitobotta.com/search/">Search</a> </li> </ul> </div> <div class="flex text-lg justify-center"> <main class="px-4 sm:px-8 pb-4 sm:max-w-full w-full lg:max-w-3xl xl:max-w-4xl"> <article class="lg:mb-12 border border-gray-200 rounded shadow-lg p-6 bg-white"> <header> <span class="md:flex"> <div class="uppercase mb-2"> <a class="text-blue-500 text-sm sm:text-base lg:text-lg" href="https://vitobotta.com/tags/digital-ocean/">Digital Ocean</a> • <a class="text-blue-500 text-sm sm:text-base lg:text-lg" href="https://vitobotta.com/tags/rancher/">rancher</a> • <a class="text-blue-500 text-sm sm:text-base lg:text-lg" href="https://vitobotta.com/tags/devops/">devops</a> • <a class="text-blue-500 text-sm sm:text-base lg:text-lg" href="https://vitobotta.com/tags/kubernetes/">kubernetes</a> </div> </span> <h1 class="mt-3 text-2xl sm:text-3xl xl:text-4xl flex items-center"> <a href="https://vitobotta.com/2020/11/02/kubernetes-digitalocean-rancher/" class="document-title font-semibold"> Kubernetes in DigitalOcean with Rancher </a> </h1> <div class="mt-4 flex justify-between"> <div class="text-gray-700 flex items-center text-base sm:text-lg"> <img src="https://cdn.dynablogger.com/static/blobs/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBdXcxIiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--32dd40b68b9e9d86bb617ff9b756a850aa20cc59/calendar.png" class="hidden lg:block"> <div class="hidden lg:block ml-2 mt-1"> Published <time>Monday, Nov 02 2020</time> </div> </div> <div class="hidden lg:block"> <a href="#commento-wrapper" class="underline mt-1">Jump to comments</a> </div> </div> <div class="lg:hidden text-base sm:text-lg flex items-center"> <img src="https://cdn.dynablogger.com/static/blobs/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBdXcxIiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--32dd40b68b9e9d86bb617ff9b756a850aa20cc59/calendar.png" class="mr-2"> Published   <time>Monday, Nov 02 2020</time> </div> </header> <section class="mt-8"> <p class="text-xl"> </p> <div class="trix-content"> <h2>Introduction </h2> <div>Last Friday I published a post on <a href="https://vitobotta.com/2020/10/30/kubernetes-hetzner-cloud-rancher-custom-nodes/">how to deploy Kubernetes in Hetzner Cloud with Rancher</a> . The post seems pretty popular because <a href="https://hetzner.cloud/?ref=mqx6KKKwyook">Hetzner Cloud</a> (referral link, we both receive credits) is a very good and affordable provider, and <a href="https://rancher.com/">Rancher</a> is an amazing piece of software that makes life with Kubernetes a lot easier.</div> <div> <br>Like I said in that post these two are a nice combination for self managed, cheap Kubernetes clusters. However someone asked me "what about <a href="https://m.do.co/c/775d55357dbf">DigitalOcean</a> ?" (referral link, we both receive credits), because they don't want to host their clusters in Europe (Hetzner has data centers only in Germany and Finland) but in the US, and they also use DigitalOcean for something else already and are happy with them.</div> <div> <br>At first I mentioned <a href="https://www.digitalocean.com/products/kubernetes/">DigitalOcean's managed Kubernetes service "DOKS"</a> and suggested they try it. However I explained that I have tried DOKS three times and that each time I have had problems with the free control plane (timeouts, unavailability, various errors). Each time things like installing the Prometheus operator monitoring stack or multiple things at the same time with <a href="https://www.pulumi.com/">Pulumi</a> would result in connectivity issues with the master, making the cluster literally unusable. All that support said was to add more or bigger nodes, which I didn't need. </div> <div> <br>DigitalOcean allocate a certain amount of resources to the master depending on the number and size of the worker nodes, and unfortunately this doesn't seem to work well with small clusters like mine. I had 3 nodes with 4 cores and 8GB of ram each and each time I had problems until I gave up and switched back to self managing K8s in Hetzner Cloud.</div> <div> <br>But... when this person asked me about DigitalOcean and Rancher, I remembered that Rancher has built in support for DigitalOcean, so it can create and manage nodes in DO directly using Docker machine under the hood. Like with the node driver for Hetzner Cloud I mentioned in the previous post, but without the limitations I explained there.</div> <div> <br>So this time I set up a cluster in DigitalOcean using Rancher's built in node driver, and it was easy and quick. Like I said in the previous post Rancher does not configure any firewall, but DigitalOcean has a very nice firewall feature that allows you to use tags to identify the resources a rule applies to. At the same time, Rancher allows you to add tags that will be applied to the nodes when configuring the node templates using the DigitalOcean node driver. So it very easy to configure the firewall directly in DO's control panel without having to do some configuration on the nodes either manually or with something like Ansible. The nice thing is that if I create new clusters, the firewall will automatically apply to these clusters too thanks to the tags.</div> <div> <br>I really like how easy it was to set up and that I can still mange node pools like with a managed service, which is not possible when deploying Kubernetes with the "custom nodes" setup I was using with Hetzner Cloud. At the moment my SaaS <a href="https://www.dynablogger.com/">DynaBlogger</a> is running in this DigitalOcean cluster, and I will keep this configuration for a week before deciding whether to stay or switch back to Hetzner Cloud since HC is quite a bit cheaper.</div> <div> In this post I will show the steps required to set this up and this time I will add some screenshots just because.</div> <div><br></div> <h2>Setting up Rancher</h2> <div>You will still need a Rancher instance, and for that I recommend you just follow the simple instructions in <a href="/2020/10/30/kubernetes-hetzner-cloud-rancher/">the previous post</a> .</div> <div><br></div> <h2>Configuring the firewall</h2> <div>Before we create the cluster, we need to configure the firewall so that access to the Kubernetes components from the outside world is blocked.</div> <div> <br>In the DigitalOcean control panel go to Networking &gt; Firewalls, and click on "Create Firewall". Configure the inbound rules like in the picture. You want to allow all traffic </div> <ul> <li>within the VPC (you can find the range for your region under Networking &gt; VPC - there should be a default VPC)</li> <li>from any resource with a tag you choose like "rancher-kubernetes"</li> <li>from the public IPs of any load balancers you will create later (so that they can talk to the nodes; it doesn't seem to be possible to add a tag to a load balancer provisioned from Kubernetes or anyway from the UI)</li> <li>from your IPs, so you can connect to the clusters</li> <li>from the IP of your Rancher instance. You are likely going to deploy Rancher to a droplet too, so in this case just add the tag "rancher-kubernetes" to that droplet too and the firewall will also apply to that one.</li> </ul> <div> <br>I love the use of tags to configure the firewall, because if we add nodes later we don't have to change anything. If you want to be able to access your Kubernetes API from anywhere, then also allow inbound traffic to the port 6443 from all IPs.</div> <div> <br><action-text-attachment sgid="BAh7CEkiCGdpZAY6BkVUSSI7Z2lkOi8vZHluYWJsb2dnZXIvQWN0aXZlU3RvcmFnZTo6QmxvYi8xMzIyMz9leHBpcmVzX2luBjsAVEkiDHB1cnBvc2UGOwBUSSIPYXR0YWNoYWJsZQY7AFRJIg9leHBpcmVzX2F0BjsAVDA=--2b6ae05c47136aafc6457fe5213fef59075eafbd" content-type="image/jpeg" url="/static/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBcWN6IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--80381407e0accd1dcfae3476706e9d92766c01b1/07-digitalocean-inbound-rules.jpg" filename="07-digitalocean-inbound-rules.jpg" filesize="59315" width="2408" height="892" previewable="true"><figure class="attachment attachment--preview attachment--jpg"> <img src="https://cdn.dynablogger.com/static/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBcWN6IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--80381407e0accd1dcfae3476706e9d92766c01b1/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9VY21WemFYcGxYM1J2WDJ4cGJXbDBXd2RwQWdBRWFRSUFBdz09IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--62254c805d18962f1ac85d0730cb52228a017fca/07-digitalocean-inbound-rules.jpg"> <figcaption class="attachment__caption"> <span class="attachment__name">07-digitalocean-inbound-rules.jpg</span> <span class="attachment__size">57.9 KB</span> </figcaption> </figure></action-text-attachment> </div> <div><br></div> <h2>Configuring the node template</h2> <div>In order to have Rancher "talk" with DigitalOcean, you will need to create a token in DO that Rancher will use. To create a token, open the DigitalOcean control panel and under API &gt; Tokens/Keys click on "Generate New Token". Give read and write permissions and take note of the token because you will only see it once.</div> <div> <br>Next, go to Rancher and click on your avatar in the top right corner, then click "Cloud Credentials" and then on "Add Cloud Credential". Select DigitalOcean from the "Cloud Credential Type" dropdown and enter your token. Click on "Create" to confirm.<br><br> </div> <div><action-text-attachment sgid="BAh7CEkiCGdpZAY6BkVUSSI7Z2lkOi8vZHluYWJsb2dnZXIvQWN0aXZlU3RvcmFnZTo6QmxvYi8xMzIyOT9leHBpcmVzX2luBjsAVEkiDHB1cnBvc2UGOwBUSSIPYXR0YWNoYWJsZQY7AFRJIg9leHBpcmVzX2F0BjsAVDA=--8cefc66936c7150a4b57af5c78656745162c98b8" content-type="image/jpeg" url="/static/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBcTB6IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--b9a1c4d59ab859fcd6c4fa464b624dfe18fa369a/01-Creating-cloud-credential-in-Rancher.jpg" filename="01-Creating-cloud-credential-in-Rancher.jpg" filesize="45909" width="1954" height="846" previewable="true"><figure class="attachment attachment--preview attachment--jpg"> <img src="https://cdn.dynablogger.com/static/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBcTB6IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--b9a1c4d59ab859fcd6c4fa464b624dfe18fa369a/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9VY21WemFYcGxYM1J2WDJ4cGJXbDBXd2RwQWdBRWFRSUFBdz09IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--62254c805d18962f1ac85d0730cb52228a017fca/01-Creating-cloud-credential-in-Rancher.jpg"> <figcaption class="attachment__caption"> <span class="attachment__name">01-Creating-cloud-credential-in-Rancher.jpg</span> <span class="attachment__size">44.8 KB</span> </figcaption> </figure></action-text-attachment></div> <div> <br>Next, click on "Manage Node Templates", select the cloud credential you just created, and in the next screen after clicking "Next" you can choose the region, and the instance type for this template. Choose Ubuntu 18.04 as the OS, and - important - add the same tag you have configured in the firewall earlier. I use "rancher-kubernetes" as tag for the nodes. Also make sure that you enable private networking; we'll configure the cluster so that the traffic between the nodes uses the private network. Give the template a name (I use the convention provider-region-number_of_cores-ram) and save:<br><br> </div> <div><action-text-attachment sgid="BAh7CEkiCGdpZAY6BkVUSSI7Z2lkOi8vZHluYWJsb2dnZXIvQWN0aXZlU3RvcmFnZTo6QmxvYi8xMzIzMz9leHBpcmVzX2luBjsAVEkiDHB1cnBvc2UGOwBUSSIPYXR0YWNoYWJsZQY7AFRJIg9leHBpcmVzX2F0BjsAVDA=--959aa04e87010e389a2b01925313d420090a267f" content-type="image/jpeg" url="/static/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBckV6IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--5ac33dd662baa590e422f608a0b5bb1c5a80dcb7/02-rancher-digitalocean-node-template.jpg" filename="02-rancher-digitalocean-node-template.jpg" filesize="241584" width="3646" height="2160" previewable="true"><figure class="attachment attachment--preview attachment--jpg"> <img src="https://cdn.dynablogger.com/static/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBckV6IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--5ac33dd662baa590e422f608a0b5bb1c5a80dcb7/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9VY21WemFYcGxYM1J2WDJ4cGJXbDBXd2RwQWdBRWFRSUFBdz09IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--62254c805d18962f1ac85d0730cb52228a017fca/02-rancher-digitalocean-node-template.jpg"> <figcaption class="attachment__caption"> <span class="attachment__name">02-rancher-digitalocean-node-template.jpg</span> <span class="attachment__size">236 KB</span> </figcaption> </figure></action-text-attachment></div> <div><br></div> <h2>Creating the cluster</h2> <div>To create the cluster, go to Global &gt; Clusters, and click on "Add Cluster", then choose "DigitalOcean":<br><br> </div> <div><action-text-attachment sgid="BAh7CEkiCGdpZAY6BkVUSSI7Z2lkOi8vZHluYWJsb2dnZXIvQWN0aXZlU3RvcmFnZTo6QmxvYi8xMzIzND9leHBpcmVzX2luBjsAVEkiDHB1cnBvc2UGOwBUSSIPYXR0YWNoYWJsZQY7AFRJIg9leHBpcmVzX2F0BjsAVDA=--461f64b89a19ed57efd9e660abda731e986528e1" content-type="image/jpeg" url="/static/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBckl6IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--6abfaeb6e15e436afb42af5e894c61d4b59fc7e4/03-rancher-create-digitalocean-cluster.jpg" filename="03-rancher-create-digitalocean-cluster.jpg" filesize="54666" width="2198" height="898" previewable="true"><figure class="attachment attachment--preview attachment--jpg"> <img src="https://cdn.dynablogger.com/static/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBckl6IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--6abfaeb6e15e436afb42af5e894c61d4b59fc7e4/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9VY21WemFYcGxYM1J2WDJ4cGJXbDBXd2RwQWdBRWFRSUFBdz09IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--62254c805d18962f1ac85d0730cb52228a017fca/03-rancher-create-digitalocean-cluster.jpg"> <figcaption class="attachment__caption"> <span class="attachment__name">03-rancher-create-digitalocean-cluster.jpg</span> <span class="attachment__size">53.4 KB</span> </figcaption> </figure></action-text-attachment></div> <div> <br>Give the cluster a name, and for the first node pool give the pool a prefix for the name, for example cluster_name-role-cores_ram, set the count to 3 to create a HA cluster, then select the node template you have created earlier and select the roles. For a simple HA cluster with just 3 nodes select all the roles like in the picture:<br><br> </div> <div><action-text-attachment sgid="BAh7CEkiCGdpZAY6BkVUSSI7Z2lkOi8vZHluYWJsb2dnZXIvQWN0aXZlU3RvcmFnZTo6QmxvYi8xMzIzNT9leHBpcmVzX2luBjsAVEkiDHB1cnBvc2UGOwBUSSIPYXR0YWNoYWJsZQY7AFRJIg9leHBpcmVzX2F0BjsAVDA=--5b7ecf824039ecbd37c3c8b0bc4075830418a952" content-type="image/jpeg" url="/static/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBck16IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--a406b6bcd220ff3bb08b88122aab31df4ee2db14/04-rancher-create-node-pool.jpg" filename="04-rancher-create-node-pool.jpg" filesize="83684" width="3832" height="826" previewable="true"><figure class="attachment attachment--preview attachment--jpg"> <img src="https://cdn.dynablogger.com/static/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBck16IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--a406b6bcd220ff3bb08b88122aab31df4ee2db14/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9VY21WemFYcGxYM1J2WDJ4cGJXbDBXd2RwQWdBRWFRSUFBdz09IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--62254c805d18962f1ac85d0730cb52228a017fca/04-rancher-create-node-pool.jpg"> <figcaption class="attachment__caption"> <span class="attachment__name">04-rancher-create-node-pool.jpg</span> <span class="attachment__size">81.7 KB</span> </figcaption> </figure></action-text-attachment></div> <div> <br>Now under Advanced Options disable Nginx ingress, because you are likely going to install the ingress controller with a load balancer provisioned in DO, using their cloud controller manager - which we'll install later.</div> <div> <br>I also recommend you enable etcd snapshotting to S3 compatible storage so you can restore the cluster to a previous state if you screw it up.</div> <div>Next, click on "Edit as YAML" and change the network provider section so to configure the network interface for Canal (DO instances have eth1 for the private network interface):<br><br> </div> <div><action-text-attachment sgid="BAh7CEkiCGdpZAY6BkVUSSI7Z2lkOi8vZHluYWJsb2dnZXIvQWN0aXZlU3RvcmFnZTo6QmxvYi8xMzIzNj9leHBpcmVzX2luBjsAVEkiDHB1cnBvc2UGOwBUSSIPYXR0YWNoYWJsZQY7AFRJIg9leHBpcmVzX2F0BjsAVDA=--2791dfcec23f33c0c3daf783e5938d426dd040b4" content-type="image/jpeg" url="/static/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBclF6IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--3727c3bc399e9e4fe7a390a8c775ec6feed4b980/05-rancher-configure-canal-interface.jpg" filename="05-rancher-configure-canal-interface.jpg" filesize="33580" width="906" height="372" previewable="true"><figure class="attachment attachment--preview attachment--jpg"> <img src="https://cdn.dynablogger.com/static/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBclF6IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--3727c3bc399e9e4fe7a390a8c775ec6feed4b980/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9VY21WemFYcGxYM1J2WDJ4cGJXbDBXd2RwQWdBRWFRSUFBdz09IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--62254c805d18962f1ac85d0730cb52228a017fca/05-rancher-configure-canal-interface.jpg"> <figcaption class="attachment__caption"> <span class="attachment__name">05-rancher-configure-canal-interface.jpg</span> <span class="attachment__size">32.8 KB</span> </figcaption> </figure></action-text-attachment></div> <div> <br>Also, under Services configure the Kubelet so that it has cloud provider set to "external" which is required for the cloud controller manager:<br><br> </div> <div><action-text-attachment sgid="BAh7CEkiCGdpZAY6BkVUSSI7Z2lkOi8vZHluYWJsb2dnZXIvQWN0aXZlU3RvcmFnZTo6QmxvYi8xMzIzNz9leHBpcmVzX2luBjsAVEkiDHB1cnBvc2UGOwBUSSIPYXR0YWNoYWJsZQY7AFRJIg9leHBpcmVzX2F0BjsAVDA=--65070c3feab50f2a0fdf001c95cc72d9b35dec2b" content-type="image/jpeg" url="/static/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBclV6IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--cd0fe5566b56160a833f8b7f27d1749d42279484/06-rancher-cloud-provider-external.jpg" filename="06-rancher-cloud-provider-external.jpg" filesize="58996" width="882" height="956" previewable="true"><figure class="attachment attachment--preview attachment--jpg"> <img src="https://cdn.dynablogger.com/static/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBclV6IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--cd0fe5566b56160a833f8b7f27d1749d42279484/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9VY21WemFYcGxYM1J2WDJ4cGJXbDBXd2RwQWdBRWFRSUFBdz09IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--62254c805d18962f1ac85d0730cb52228a017fca/06-rancher-cloud-provider-external.jpg"> <figcaption class="attachment__caption"> <span class="attachment__name">06-rancher-cloud-provider-external.jpg</span> <span class="attachment__size">57.6 KB</span> </figcaption> </figure></action-text-attachment></div> <div> <br>Finally, click on "Create", then go to the "Nodes" tab of the newly created cluster and wait for all the nodes to be ready and the provisioning messages to be gone. The nodes will initially have a taint to disable scheduling, which will be fixed automatically once we install the cloud controller manager.</div> <div> <br>Rancher will now connect to DigitalOcean, create the nodes and deploy Kubernetes for you. For me this takes around 7-8 minutes.</div> <div> <br>When the provisioning is complete the UI will look like in the picture:<br><br> </div> <div><action-text-attachment sgid="BAh7CEkiCGdpZAY6BkVUSSI7Z2lkOi8vZHluYWJsb2dnZXIvQWN0aXZlU3RvcmFnZTo6QmxvYi8xMzIzOD9leHBpcmVzX2luBjsAVEkiDHB1cnBvc2UGOwBUSSIPYXR0YWNoYWJsZQY7AFRJIg9leHBpcmVzX2F0BjsAVDA=--71ba95eb9200f479cac324db5b7655d39764d347" content-type="image/jpeg" url="/static/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBcll6IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--734ae43996f0e74d217f59cf511ec50a631f310d/08-cluster-provisoned.jpg" filename="08-cluster-provisoned.jpg" filesize="113343" width="3804" height="1038" previewable="true"><figure class="attachment attachment--preview attachment--jpg"> <img src="https://cdn.dynablogger.com/static/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBcll6IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--734ae43996f0e74d217f59cf511ec50a631f310d/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9VY21WemFYcGxYM1J2WDJ4cGJXbDBXd2RwQWdBRWFRSUFBdz09IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--62254c805d18962f1ac85d0730cb52228a017fca/08-cluster-provisoned.jpg"> <figcaption class="attachment__caption"> <span class="attachment__name">08-cluster-provisoned.jpg</span> <span class="attachment__size">111 KB</span> </figcaption> </figure></action-text-attachment></div> <div><br></div> <h2>Configuring access to the cluster with kubectl</h2> <div>Go to "Cluster" and click on "Kubeconfig File". Download the file, this is what you will need to use with kubectl to access your cluster.</div> <div><br></div> <h2>Cloud controller manager</h2> <div>In order to provision load balancers for the ingress controller and other services, you need to install DigitalOcean's cloud controller manager that you can find <a href="https://github.com/digitalocean/digitalocean-cloud-controller-manager">on Github</a> .</div> <div> <br>First, create a secret in the kube-system namespace with the DigitalOcean token you created earlier:<br><br> </div> <pre>apiVersion: v1
kind: Secret
metadata:
  name: digitalocean
  namespace: kube-system
stringData:
  access-token: "your token"</pre> <div> <br>Then deploy the cloud controller manager:<br><br> </div> <pre>kubectl apply -f https://raw.githubusercontent.com/digitalocean/digitalocean-cloud-controller-manager/master/releases/v0.1.30.yml
<br></pre> <div> <br>Ensure you install the latest version. This should be pretty quick and once installed, the nodes will become schedulable and you will be able to create services of type LoadBalancer.<br><br> </div> <h2>CSI driver for the block storage</h2> <div>You can find the code for the CSI driver <a href="https://github.com/digitalocean/csi-digitalocean">here</a> . This is required to provision persistent volumes using DO's block storage. </div> <div> <br>You already have the secret for the token in kube-system, so all you need to do now is install the manifests:<br><br> </div> <pre>kubectl apply -f https://raw.githubusercontent.com/digitalocean/csi-digitalocean/master/deploy/kubernetes/releases/csi-digitalocean-v2.1.1/crds.yaml
kubectl apply -f https://raw.githubusercontent.com/digitalocean/csi-digitalocean/master/deploy/kubernetes/releases/csi-digitalocean-v2.1.1/driver.yaml
kubectl apply -f https://raw.githubusercontent.com/digitalocean/csi-digitalocean/master/deploy/kubernetes/releases/csi-digitalocean-v2.1.1/snapshot-controller.yaml</pre> <div> <br>Make sure you specify the correct version of the driver for the version of Kubernetes of your cluster, which you can find in the README. For 1.18/1.19 at the time of this writing you can install v2.1.1. Note that the README shows a single kubectl apply command, but for some reason I got some error when installing it that way while it worked without any issues when installing one manifest per time.</div> <div> <br>Pro tip: I recommend you "watch releases" for both repos so you know when to upgrade.</div> <div><br></div> <h2>Conclusion</h2> <div>I really like Rancher's built in support for DigitalOcean. It makes it super easy to deploy Kubernetes clusters in DO while keeping full integration with Rancher and, at the same time, allowing the management of node pools like with managed services, so you can also scale with one click and recycle nodes easily. Overall this is an easier setup than what I explained in my previous post for Hetzner Cloud. But it's also more expensive. Not crazy expensive like Google/Amazon/Microsoft stuff, but still quite a bit more expensive than Hetzner Cloud. My budget is limited so I will keep this cluster for a week and decide if to stay with a better setup in DO, or switch back to a more manual setup in Hetzner Cloud and save some money.</div> <div> <br>So there you have it, if you are interested in both Rancher and DigitalOcean. Let me know in the comments if this works for you or what you think about it. I would also be curious to hear if you have tried DigitalOcean's managed Kubernetes and what your experience with it was/is like.</div> </div> </section> <div class="w-full py-3 text-center text-1xl flex justify-between"> <div class="flex-1 text-left"> Previous: <a href="https://vitobotta.com/2020/10/30/kubernetes-hetzner-cloud-rancher-custom-nodes/" class="link"> Kubernetes in Hetzner Cloud with Rancher Part 1 - Custom Nodes Setup </a> </div> <div class="flex-1 text-right"> Next: <a href="https://vitobotta.com/2020/11/10/kubernetes-hetzner-cloud-rancher-node-driver/" class="link"> Kubernetes in Hetzner Cloud with Rancher Part 2 - Node Driver </a> </div> </div> <h4 class="my-6 font-lg">Comments</h4> <div id="commento-wrapper"> <div id="commento"></div> </div> </article> </main> <div class="text-gray-700 min-h-screen flex-no-grow hidden lg:block sidebar lg:mr-8" id="sidebar"> <div class="px-6 lg:px-6 pt-6 pb-3 border border-gray-200 rounded shadow-lg bg-white"> <h3 class="font-semibold text-xl xl:text-2xl text-gray-700 mb-4">The author</h3> <div class="pb-6 sm:text-lg"> <p class="mb-3"><img src="https://cdn.dynablogger.com/static/blobs/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBa1EwIiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--ed31a3ccb9705508ddccba14ea551a2dbf9012a2/Headshot-80x80.jpeg" class="float-left mr-3">I am a passionate developer based in Espoo, Finland, where I work as Senior Backend Developer for event management platform <a href="https://www.brella.io/" target="_blank" class="underline font-semibold">Brella</a>.</p> <p class="mb-3">My roles as architect, coder and technology enthusiast overlap each other here on this web log.</p> <p class="mb-3">Unless otherwise noted, the views expressed on these pages are mine alone and not those of my employer.</p> <p class="mb-3">Thanks for stopping by. - Vito Botta</p> <a href="/about/" class="underline font-semibold">Learn more</a> </div> </div> <div class="mt-4 px-6 pt-6 pb-3 border border-gray-200 rounded shadow-lg bg-white"> <h3 class="font-semibold text-xl xl:text-2xl text-gray-700 mb-4">Latest posts</h3> <ul class="list-none"> <li class="py-1 bxorder border-r-0 border-0 border-t-0 mb-2"> <a class="link sm:text-lg" href="https://vitobotta.com/2022/07/26/how-to-host-email-for-custom-domains-for-free-or-almost-free/"> How to host email for custom domains for free (or almost free) </a> </li> <li class="py-1 bxorder border-r-0 border-0 border-t-0 mb-2"> <a class="link sm:text-lg" href="https://vitobotta.com/2022/06/18/scaling-rails-web-sockets-in-kubernetes-with-anycable/"> Scaling Rails web sockets in Kubernetes with AnyCable </a> </li> <li class="py-1 bxorder border-r-0 border-0 border-t-0 mb-2"> <a class="link sm:text-lg" href="https://vitobotta.com/2022/03/11/self-hosting-nextcloud-with-dokku-and-s3-compatible-storage/"> Self-hosting Nextcloud with Dokku and s3 compatible storage </a> </li> <li class="py-1 bxorder border-r-0 border-0 border-t-0 mb-2"> <a class="link sm:text-lg" href="https://vitobotta.com/2022/02/27/free-ngrok-alternative-with-cloudflare-tunnels/"> Free Ngrok alternative with Cloudflare Tunnels </a> </li> <li class="py-1 bxorder border-r-0 border-0 border-t-0 mb-2"> <a class="link sm:text-lg" href="https://vitobotta.com/2022/02/16/deploying-an-app-with-dokku/"> Deploying an app with Dokku </a> </li> </ul> </div> <div class="mt-4 px-6 pt-6 pb-3 border border-gray-200 rounded shadow-lg bg-white"> <h3 class="font-semibold text-xl xl:text-2xl text-gray-700 mb-4">Topics</h3> <div> <a class="link tag2" href="https://vitobotta.com/tags/hetzner-cloud/"> Hetzner Cloud </a> • <a class="link tag1" href="https://vitobotta.com/tags/tips/"> Tips </a> • <a class="link tag1" href="https://vitobotta.com/tags/self-hosting/"> self-hosting </a> • <a class="link tag2" href="https://vitobotta.com/tags/devops/"> devops </a> • <a class="link tag2" href="https://vitobotta.com/tags/google/"> Google </a> • <a class="link tag1" href="https://vitobotta.com/tags/productivity/"> productivity </a> • <a class="link tag1" href="https://vitobotta.com/tags/javascript/"> JavaScript </a> • <a class="link tag2" href="https://vitobotta.com/tags/blogging/"> blogging </a> • <a class="link tag2" href="https://vitobotta.com/tags/jekyll/"> Jekyll </a> • <a class="link tag1" href="https://vitobotta.com/tags/css/"> CSS </a> • <a class="link tag1" href="https://vitobotta.com/tags/apps/"> apps </a> • <a class="link tag3" href="https://vitobotta.com/tags/rancher/"> rancher </a> • <a class="link tag1" href="https://vitobotta.com/tags/postgresql/"> PostgreSQL </a> • <a class="link tag6" href="https://vitobotta.com/tags/ruby/"> Ruby </a> • <a class="link tag1" href="https://vitobotta.com/tags/digital-ocean/"> Digital Ocean </a> • <a class="link tag1" href="https://vitobotta.com/tags/sql-server/"> SQL Server </a> • <a class="link tag1" href="https://vitobotta.com/tags/ci-cd/"> CI/CD </a> • <a class="link tag1" href="https://vitobotta.com/tags/api/"> API </a> • <a class="link tag5" href="https://vitobotta.com/tags/ruby-on-rails/"> Ruby on Rails </a> • <a class="link tag1" href="https://vitobotta.com/tags/cloudflare/"> cloudflare </a> • <a class="link tag1" href="https://vitobotta.com/tags/web-design/"> Web Design </a> • <a class="link tag2" href="https://vitobotta.com/tags/testing/"> Testing </a> • <a class="link tag1" href="https://vitobotta.com/tags/vpn/"> VPN </a> • <a class="link tag1" href="https://vitobotta.com/tags/mobile/"> mobile </a> • <a class="link tag1" href="https://vitobotta.com/tags/performance/"> Performance </a> • <a class="link tag2" href="https://vitobotta.com/tags/mysql/"> MySQL </a> • <a class="link tag1" href="https://vitobotta.com/tags/dns/"> DNS </a> • <a class="link tag3" href="https://vitobotta.com/tags/linux/"> Linux </a> • <a class="link tag1" href="https://vitobotta.com/tags/nextcloud/"> nextcloud </a> • <a class="link tag2" href="https://vitobotta.com/tags/terraform/"> terraform </a> • <a class="link tag2" href="https://vitobotta.com/tags/docker/"> Docker </a> • <a class="link tag1" href="https://vitobotta.com/tags/backup/"> Backup </a> • <a class="link tag2" href="https://vitobotta.com/tags/wordpress/"> Wordpress </a> • <a class="link tag1" href="https://vitobotta.com/tags/email/"> email </a> • <a class="link tag1" href="https://vitobotta.com/tags/kvm/"> KVM </a> • <a class="link tag5" href="https://vitobotta.com/tags/programming/"> programming </a> • <a class="link tag2" href="https://vitobotta.com/tags/virtualisation/"> Virtualisation </a> • <a class="link tag1" href="https://vitobotta.com/tags/infrastructure/"> infrastructure </a> • <a class="link tag5" href="https://vitobotta.com/tags/kubernetes/"> kubernetes </a> • <a class="link tag3" href="https://vitobotta.com/tags/security/"> security </a> • <a class="link tag2" href="https://vitobotta.com/tags/storage/"> Storage </a> • <a class="link tag2" href="https://vitobotta.com/tags/apple/"> Apple </a> • <a class="link tag1" href="https://vitobotta.com/tags/nginx/"> Nginx </a> • <a class="link tag1" href="https://vitobotta.com/tags/system-administration/"> System Administration </a> • <a class="link tag1" href="https://vitobotta.com/tags/ansible/"> ansible </a> • <a class="link tag3" href="https://vitobotta.com/tags/databases/"> databases </a> • <a class="link tag2" href="https://vitobotta.com/tags/macos/"> macOS </a> </div> </div> <div class="mt-4 px-6 pt-6 pb-3 border border-gray-200 rounded shadow-lg bg-white"> <h3 class="font-semibold text-xl xl:text-2xl text-gray-700 mb-4">License</h3> <div class="text-center"> <p class="italic"> "Any exposure is good for an artist." </p> <p class="mb-3"> - George Carlin </p> <p class="mb-3 w-full"> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" class="w-full text-center"> <img alt="Creative Commons Licence" style="border-width:0" class="mx-auto" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"> </a> <br>This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>. </p> </div> </div> <div class="mt-4 px-6 pt-6 pb-3 border border-gray-200 rounded shadow-lg bg-white"> <h3 class="font-semibold text-xl xl:text-2xl text-gray-700 mb-4">Archives</h3> <ul class="list-none"> Liquid error: internal </ul> </div> </div> </div> <div class="uppercase py-8 w-full text-center"> © Vito Botta </div> <script src="https://cdn.dynablogger.com/scripts/6M/20220727180055629486-01b373495c826b5f2dc31e0b9b13e640/gGN4/instantpage.js" type="module"></script> <script>
  console.log(111);
</script> <script>
      document.addEventListener('DOMContentLoaded', (event) => {
        document.querySelectorAll('pre').forEach((el) => {
          hljs.highlightElement(el);
        });
      });
    </script> </body> </html>