
<!DOCTYPE html>
<html lang="en-GB" prefix="og: http://ogp.me/ns#">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">

	
<link rel="profile" href="http://gmpg.org/xfn/11" />
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<link rel="alternate" href="https://www.reecesugars.co.uk/" title="Reece Sugars" />

<link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" media="all" href="/wp-content/themes/Reece-Sugars/Reece-Sugars.css" />
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">


<!-- This site is optimized with the Yoast SEO plugin v7.8 - https://yoast.com/wordpress/plugins/seo/ -->
<title>Reece Sugars | Creative Web Developer Southampton | WebGL Three.js</title>
<link rel="canonical" href="https://www.reecesugars.co.uk/" />
<meta property="og:locale" content="en_GB" />
<meta property="og:type" content="website" />
<meta property="og:title" content="Reece Sugars | Creative Web Developer Southampton | WebGL Three.js" />
<meta property="og:url" content="https://www.reecesugars.co.uk/" />
<meta property="og:site_name" content="Reece Sugars" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Reece Sugars | Creative Web Developer Southampton | WebGL Three.js" />
<script type='application/ld+json'>{"@context":"https:\/\/schema.org","@type":"WebSite","@id":"#website","url":"https:\/\/www.reecesugars.co.uk\/","name":"Reece Sugars","potentialAction":{"@type":"SearchAction","target":"https:\/\/www.reecesugars.co.uk\/?s={search_term_string}","query-input":"required name=search_term_string"}}</script>
<!-- / Yoast SEO plugin. -->

<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Reece Sugars &raquo; Feed" href="https://www.reecesugars.co.uk/feed/" />
<link rel="alternate" type="application/rss+xml" title="Reece Sugars &raquo; Comments Feed" href="https://www.reecesugars.co.uk/comments/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/www.reecesugars.co.uk\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.9.20"}};
			!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])?!1:!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([55358,56760,9792,65039],[55358,56760,8203,9792,65039])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='formidable-css'  href='https://www.reecesugars.co.uk/wp-content/uploads/formidable/css/formidablepro.css?ver=7152014' type='text/css' media='all' />
<link rel='stylesheet' id='kc-general-css'  href='https://www.reecesugars.co.uk/wp-content/plugins/kingcomposer/assets/frontend/css/kingcomposer.min.css?ver=2.7.6' type='text/css' media='all' />
<link rel='stylesheet' id='kc-animate-css'  href='https://www.reecesugars.co.uk/wp-content/plugins/kingcomposer/assets/css/animate.css?ver=2.7.6' type='text/css' media='all' />
<link rel='stylesheet' id='kc-icon-1-css'  href='https://www.reecesugars.co.uk/wp-content/plugins/kingcomposer/assets/css/icons.css?ver=2.7.6' type='text/css' media='all' />
<script type='text/javascript' src='https://www.reecesugars.co.uk/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='https://www.reecesugars.co.uk/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<link rel='https://api.w.org/' href='https://www.reecesugars.co.uk/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://www.reecesugars.co.uk/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://www.reecesugars.co.uk/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.9.20" />
<link rel='shortlink' href='https://www.reecesugars.co.uk/' />
<link rel="alternate" type="application/json+oembed" href="https://www.reecesugars.co.uk/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.reecesugars.co.uk%2F" />
<link rel="alternate" type="text/xml+oembed" href="https://www.reecesugars.co.uk/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.reecesugars.co.uk%2F&#038;format=xml" />
<script type="text/javascript">var kc_script_data={ajax_url:"https://www.reecesugars.co.uk/wp-admin/admin-ajax.php"}</script><script type="text/javascript"></script><style type="text/css" id="kc-css-general">.kc-off-notice{display: inline-block !important;}.kc-container{max-width:1170px;}</style><style type="text/css" id="kc-css-render"></style><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-122458142-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-122458142-1');
</script>



</head>


<body class="home page-template page-template-page-templates page-template-home page-template-page-templateshome-php page page-id-4 kc-css-system">

   
  <div class="left-fade"></div>
  

  <header style="z-index: 99">
    <div class="header-inner">
      <div id="logo" class="text-center sm:text-left w-full sm:w-auto"><a data-text="Reece Sugars" class="glitch display:inline-block;" href="https://www.reecesugars.co.uk">Reece Sugars</a></div>
      <div class="menu hidden sm:block">
        <ul>
          <li><a class="glitch" data-text="About" href="https://www.reecesugars.co.uk#about">About</a></li>
          <li><a class="glitch" data-text="Projects" href="https://www.reecesugars.co.uk#projects">Projects</a></li>
          <li><a class="glitch" data-text="Contact" href="https://www.reecesugars.co.uk#contact">Contact</a></li>
        </ul>
      </div>
    </div>
  </header>

<canvas class="webgl gl"></canvas>






<main>




<div class="home-overlay fixed w-full h-full block sm:hidden" style="z-index: -1;background: #000026;opacity: 0.3;">
</div>

<section id="about" class="text-gray-600 body-font">
      <div class="container mx-auto flex px-5 py-24 pt-56 md:flex-row flex-col items-center">
        <div class="lg:flex-grow md:w-1/2 lg:pr-24 md:pr-16 flex flex-col md:items-start md:text-left mb-16 md:mb-0 items-center text-center">
          <h1 class="font-primary uppercase sm:text-6xl text-4xl mb-4 font-medium text-white">Creative Developer</h1>
          <p class="mb-8 text-md sm:text-lg leading-relaxed text-white">Making websites look like they're on steroids.</p>
          
          <a href="#projects" id="lets-roll" style="border: 2px solid #fff;padding: 12px 20px;" data-text="Let's Roll!"  class="glitch rs-button inline-block font-primary text-white text-sm uppercase">Let's roll!</a>
          
        </div>
        <div class="lg:max-w-lg lg:w-full md:w-1/2 w-5/6">
          
        </div>
      </div>
    </section><!-- end intro-->

    <section class="text-gray-600 body-font" id="projects">
      <div class="container mx-auto flex px-5 py-48 md:flex-row flex-col items-center">
        <div class="lg:flex-grow md:w-1/2 lg:pr-24 md:pr-16 flex flex-col md:items-start md:text-left mb-16 md:mb-0 items-center text-center">
          <h1 class="font-primary md:w-1/2 uppercase text-lg sm:text-6xl mb-4 font-medium text-white">Featured Projects</h1>
          <ul class="text-white text-xl sm:text-5xl  projects">
              <li class="py-8"><a class="hover:opacity-100 opacity-50" target="_blank" data-colour="FF0000" href="https://droeloe.reecesugars.co.uk/"><small class="text-sm mr-4 sm:mr-12 opacity-40">01.</small>Music Player</a></li>   
            <li class="py-8"><a class="hover:opacity-100 opacity-50" data-colour="FF6600" href="/lamborghini-showroom"><small class="text-sm mr-4 sm:mr-12 opacity-40">02.</small>Lamborghini Showroom</a></li>
            <li class="py-8"><a class="hover:opacity-100 opacity-50" data-colour="33FF00" href="/atmospheric-tree"><small class="text-sm mr-4 sm:mr-12 opacity-40">03.</small>Atmospheric Tree</a></li>
            <li class="py-8"><a class="hover:opacity-100 opacity-50" data-colour="00FFFF" href="/office-dog"><small class="text-sm mr-4 sm:mr-12 opacity-40">04.</small>Office Dog</a></li>           
          </ul>          
          
        </div>

      </div>
    </section><!-- end projects-->    


    <section class="text-gray-600 body-font" id="contact">
      <div class="container mx-auto flex px-5 py-48 md:flex-row flex-col items-center">
        <div class="lg:flex-grow md:w-1/2 lg:pr-24 md:pr-16 flex flex-col md:items-start md:text-left mb-16 md:mb-0 items-center text-center">
          <h1 class="font-primary uppercase text-lg sm:text-6xl mb-4 font-medium text-white">Contact Details</h1>
          <ul class="text-white text-xl sm:text-5xl projects">
            <li class="py-8"><a class="hover:opacity-100 opacity-50" data-colour="FF66bb" href="mailto:info@reecesugars.co.uk"><small class="text-sm mr-2 sm:mr-12 opacity-40">E.</small>info@reecesugars.co.uk</a></li>          
          </ul>
          
          
          
        </div>
        <div class="lg:max-w-lg lg:w-full md:w-1/2 w-5/6">
          
        </div>
      </div>
    </section><!-- end Contact-->





</main>




<script type='text/javascript' src='https://www.reecesugars.co.uk/wp-content/plugins/kingcomposer/assets/frontend/js/kingcomposer.min.js?ver=2.7.6'></script>
<script type='text/javascript' src='https://www.reecesugars.co.uk/wp-includes/js/wp-embed.min.js?ver=4.9.20'></script>
</body>
</html>

      




<script type="module">
import * as THREE from "https://cdn.skypack.dev/three@0.136.0";
import { OrbitControls } from "https://cdn.skypack.dev/three@0.136.0/examples/jsm/controls/OrbitControls.js";
import { GLTFLoader } from 'https://cdn.skypack.dev/three@0.136.0/examples/jsm/loaders/GLTFLoader.js';
import { RectAreaLightUniformsLib } from 'https://cdn.skypack.dev/three@0.136.0/examples/jsm/lights/RectAreaLightUniformsLib.js';
import { sRGBEncoding } from 'https://cdn.skypack.dev/three@0.136.0/build/three.module.js';

import { Reflector } from 'https://cdn.skypack.dev/three@0.136.0/examples/jsm/objects/Reflector.js';


//bloom + DOF
import { EffectComposer } from 'https://cdn.skypack.dev/three@0.136.0/examples/jsm/postprocessing/EffectComposer.js';
import { RenderPass } from 'https://cdn.skypack.dev/three@0.136.0/examples/jsm/postprocessing/RenderPass.js';
import { UnrealBloomPass } from 'https://cdn.skypack.dev/three@0.136.0/examples/jsm/postprocessing/UnrealBloomPass.js';

// create scene
// create geometry + material = mesh
// add mesh to scene
// create sizes
// create camera
// add camera to scene
// create renderer

const options = {
  length: 40,
  width: 40,
  roadWidth: 9,
  islandWidth: 2,
  nPairs: 200,
  roadSections: 3
};



// scene
const scene = new THREE.Scene()
const canvas = document.querySelector('.webgl')

// sizes
const sizes = {
    width: window.innerWidth,
    height: window.innerHeight
}

// load models

const loader = new GLTFLoader()
let mixer = null

loader.load( 'wp-content/themes/Reece-Sugars/3d-models/man/scene.gltf',    // called when the resource is loaded
    function ( man ) {
        

        let mesh = man.scene

        // Create an AnimationMixer, and get the list of AnimationClip instances
        mixer = new THREE.AnimationMixer( mesh )
        const action = mixer.clipAction( man.animations[5] )
        action.play()

        const wireframe_material = new THREE.MeshBasicMaterial( {
            color: 0xfADD8E6,
            wireframe: true
        } );
        const wireframe_material_2 = new THREE.MeshBasicMaterial( {
            color: 0x000000,
            wireframe: true
        } );        

        var man_body = mesh.getObjectByName( "Object_7" );
        var man_body_2 = mesh.getObjectByName( "Object_9" );
        
        man_body.material = wireframe_material;
        man_body_2.material = wireframe_material_2;

        mesh.rotation.y = -Math.PI / -2;
        scene.add( man.scene )

        $('#lets-roll').click(function(){

            const action2 = mixer.clipAction( man.animations[6] )
            action2.clampWhenFinished = true;
            action2.setLoop(THREE.LoopOnce)
            action.fadeOut ( 0 );
            action2.fadeIn(0);
            action2.play();
            action2.reset();
            action2.fadeOut(2);
            action.fadeIn ( 2 );
            action.play();

        })


        // colors

          $('.projects a').hover( function (e) {
               e.preventDefault();
               e.stopPropagation();
               var color = $(this).attr('data-colour');
               console.log(color);
               wireframe_material.color.setHex("0x" + color);

          }, function(e) {
  
            wireframe_material.color.setHex("0xffffff");
          })




    },
    // called while loading is progressing
    function ( xhr ) {

        console.log( ( xhr.loaded / xhr.total * 100 ) + '% loaded' )

    },
    // called when loading has errors
    function ( error ) {

        console.log( 'An error happened' )

    }
)



// floor

const geometry = new THREE.PlaneBufferGeometry(
  options.width,
  options.length,
  20,
  200
);

var groundMirror = new Reflector( geometry, {
    clipBias: 1,
    textureWidth: window.innerWidth * window.devicePixelRatio,
    textureHeight: window.innerHeight * window.devicePixelRatio,
    color: 0x777777
} );
groundMirror.position.y = -0.001;
groundMirror.rotateX( - Math.PI / 2 );
scene.add( groundMirror );

const car_body_material = new THREE.MeshBasicMaterial({ 
    metalness: 0,
    roughness: 1,
    color: 0x000004,
    opacity: 0.99,
    transparent: true
 }) 

const mesh = new THREE.Mesh(geometry, car_body_material);
mesh.rotation.x = -Math.PI / 2;
//mesh.position.z = -sizes.length / 2;

scene.add(mesh);


//////////////////////
// light streaks
/////////////////////

const baseGeometry = new THREE.BoxGeometry( 0.15, 0.1, 2 );

let instanced = new THREE.InstancedBufferGeometry().copy(baseGeometry);
instanced.maxInstancedCount = options.nPairs * 2;

let aOffset = [];
let aMetrics = [];

let sectionWidth = options.roadWidth / options.roadSections;

    for (let i = 0; i < options.nPairs; i++) {
      let radius = Math.random() * 0.1 + 0.1;
      let length =
        Math.random() * options.length * 0.08 + options.length * 0.02;
      // 1a. Get it's lane index
      // Instead of random, keep lights per lane consistent
      let section = i % 3;

      // 1b. Get its lane's centered position
      let sectionX =
        section * sectionWidth - options.roadWidth / 2 + sectionWidth / 2;
      let carWidth = 0.5 * sectionWidth;
      let offsetX = 0.5 * Math.random();

      //let offsetY = radius * 1.3;
      let offsetY = radius * 15;

      let offsetZ = Math.random() * options.length;

      aOffset.push(sectionX - carWidth / 2 + offsetX);
      aOffset.push(offsetY);
      aOffset.push(-offsetZ);

      aOffset.push(sectionX + carWidth / 2 + offsetX);
      aOffset.push(offsetY);
      aOffset.push(-offsetZ);

      aMetrics.push(radius);
      aMetrics.push(length);

      aMetrics.push(radius);
      aMetrics.push(length);
    }
    // Add the offset to the instanced geometry.
    instanced.addAttribute(
      "aOffset",
      new THREE.InstancedBufferAttribute(new Float32Array(aOffset), 3, false)
    );
    instanced.addAttribute(
      "aMetrics",
      new THREE.InstancedBufferAttribute(new Float32Array(aMetrics), 2, false)
    );


const fragmentShader = `
uniform vec3 uColor;
  void main() {
      vec3 color = vec3(uColor);
      gl_FragColor = vec4(color,1.);
  }
`;

const vertexShader = `
attribute vec3 aOffset;
attribute vec2 aMetrics;
uniform float uTime;
uniform float uSpeed;
uniform float uTravelLength;
  void main() {
    vec3 transformed = position.xyz;
    
    float radius = aMetrics.r;
    float len = aMetrics.g;
    transformed.xy *= radius; 
    transformed.z *= len;

    float zOffset = uTime * uSpeed + aOffset.z;
    zOffset = len - mod(zOffset, uTravelLength);

    // transformed.z +=uTime * uSpeed;


        // Keep them separated to make the next step easier!
       transformed.z = transformed.z +zOffset ;
        transformed.xy += aOffset.xy;
    
        vec4 mvPosition = modelViewMatrix * vec4(transformed,1.);
        gl_Position = projectionMatrix * mvPosition;
    }
`;


const materialShader = new THREE.ShaderMaterial({
      fragmentShader,
      vertexShader,
      uniforms: {
        uColor: new THREE.Uniform(new THREE.Color(0xff3672)),
        uTravelLength: new THREE.Uniform(options.length),
        uTime: new THREE.Uniform(0),
        uSpeed: new THREE.Uniform(10)
      }
    });
const materialShader2 = new THREE.ShaderMaterial({
      fragmentShader,
      vertexShader,
      uniforms: {
        uColor: new THREE.Uniform(new THREE.Color(0x13b3ff)),
        uTravelLength: new THREE.Uniform(options.length),
        uTime: new THREE.Uniform(0),
        uSpeed: new THREE.Uniform(10)
      }
    });

let mesh4 = new THREE.InstancedMesh(instanced, materialShader, 50);
let mesh6 = new THREE.InstancedMesh(instanced, materialShader2, 50);
mesh4.frustumCulled = false;
mesh6.frustumCulled = false;
mesh4.position.z = 10;
mesh6.position.z = 10;
scene.add(mesh4);
scene.add(mesh6);



///////////////////// 
//camera 
/////////////////////
const camera = new THREE.PerspectiveCamera( 75, sizes.width / sizes.height)


camera.position.z = 4;
camera.position.y = 2;
camera.position.x = 0;


camera.fov = 60;
camera.updateProjectionMatrix();
scene.add( camera )


//////// lights
var light = new THREE.PointLight( 0xFFFFFF, 10, 0, 1 )
//light.position.set( -2.025, 1.457, -3.178 )
light.position.set( -.965, 0.649,-3.102 )
light.scale.set(0.1,0.1,0.1)
scene.add(light)

var light2 = new THREE.PointLight( 0xFFFFFF, 2, 0, 1 )
light2.position.set( 2.729, 1.353, 4.481 )
scene.add(light2)

var light3 = new THREE.PointLight( 0xC1FBFA, 2, 0, 1 )
light3.position.set( -1.522, 0.451, 4.038 )
scene.add(light3)


//renderer
const renderer = new THREE.WebGLRenderer({
  canvas: canvas,
    antialias: true,
    alpha: true
})
renderer.setSize(sizes.width, sizes.height)
renderer.setClearColor( 0x000026, 0.1);
renderer.physicallyCorrectLights = true
renderer.gammaFactor = 2.2;
renderer.outputEncoding = THREE.sRGBEncoding;

//bloom

const params = {
    exposure: 1,
    bloomStrength: 0.6,
    bloomThreshold: 0.4,
    bloomRadius: 1
};

const renderScene = new RenderPass( scene, camera );

const bloomPass = new UnrealBloomPass( new THREE.Vector2( window.innerWidth, window.innerHeight ), 1.5, 0.4, 0.85 );
bloomPass.threshold = params.bloomThreshold;
bloomPass.strength = params.bloomStrength;
bloomPass.radius = params.bloomRadius;

var composer;
composer = new EffectComposer( renderer );
composer.addPass( renderScene );
composer.addPass( bloomPass );


////// Animate
const clock = new THREE.Clock()
let previousTime = 0


// controls
const controls = new OrbitControls(camera, canvas)
controls.enableDamping = true
controls.target.set(-1.4,1.2,0)
controls.enableZoom = false
scene.add(controls)

if ($(window).width() < 767) {
  controls.target.set(0,1.2,0)  
}

// Cursor 
const cursor = {
  x: 0,
  y: 0
}
   

// listen to mouse movement              
window.addEventListener('mousemove', (event) =>
{

    cursor.x = event.clientX / sizes.width - 0.5
    cursor.y = event.clientY / sizes.height - 0.5
    //console.log(cursor.x, cursor.y)
    
})


// resize 
const onResize = () => {
    const width = window.innerWidth;
    const height = window.innerHeight;
    renderer.setPixelRatio(window.devicePixelRatio);
    renderer.setSize(width, height);
    camera.aspect = width / height;
    camera.updateProjectionMatrix();
}
window.addEventListener('resize', onResize);




const tick = () =>
{
    const elapsedTime = clock.getElapsedTime()

    const deltaTime = elapsedTime - previousTime
    previousTime = elapsedTime

    // mixer / animations
    if(mixer !== null)
    {
        mixer.update(deltaTime)
    }

    // move camera based on cursor
    camera.position.x = cursor.x*2

    // lights
    mesh4.material.uniforms.uTime.value = elapsedTime*4;
    mesh6.material.uniforms.uTime.value = elapsedTime*3;

    // Update controls
    controls.update()

    // Render
    renderer.render(scene, camera)
    composer.render();

    // Call tick again on the next frame
    window.requestAnimationFrame(tick)

}

tick()


// smooth scroll

// Select all links with hashes
$('a[href*="#"]')
  // Remove links that don't actually link to anything
  .not('[href="#"]')
  .not('[href="#0"]')
  .click(function(event) {
    // On-page links
    if (
      location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '') 
      && 
      location.hostname == this.hostname
    ) {
      // Figure out element to scroll to
      var target = $(this.hash);
      target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
      // Does a scroll target exist?
      if (target.length) {
        // Only prevent default if animation is actually gonna happen
        event.preventDefault();
        $('html, body').animate({
          scrollTop: target.offset().top + 110
        }, 1000, function() {
          // Callback after animation
          // Must change focus!
          var $target = $(target);
          $target.focus();
          if ($target.is(":focus")) { // Checking if the target was focused
            return false;
          } else {
            $target.attr('tabindex','-1'); // Adding tabindex for elements not focusable
            $target.focus(); // Set focus again
          };
        });
      }
    }
  });




</script>