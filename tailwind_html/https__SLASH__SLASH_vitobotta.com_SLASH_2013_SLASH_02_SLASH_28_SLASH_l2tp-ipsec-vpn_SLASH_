<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="UTF-8"> <meta content="width=device-width, initial-scale=1.0" name="viewport"> <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin> <link rel="preconnect" href="https://cdn.dynablogger.com" crossorigin> <link rel="preconnect" href="https://cdn.commento.io" crossorigin> <script defer data-domain="vitobotta.com" src="https://pl.skylinx.workers.dev/blah.js"></script> <link rel="alternate" type="application/rss+xml" title="RSS Feed" href="https://vitobotta.com/feed.rss"> <link as="style" href="https://cdn.dynablogger.com/stylesheets/6M/20220727180055629486-01b373495c826b5f2dc31e0b9b13e640/wA3w/karla.css" rel="preload"> <link href="https://cdn.dynablogger.com/stylesheets/6M/20220727180055629486-01b373495c826b5f2dc31e0b9b13e640/wA3w/karla.css" media="print" onload="this.media='all'" rel="stylesheet"> <noscript> <link href="https://cdn.dynablogger.com/stylesheets/6M/20220727180055629486-01b373495c826b5f2dc31e0b9b13e640/wA3w/karla.css" rel="stylesheet"> </noscript> <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/1.6.2/tailwind.min.css" rel="stylesheet"> <link href="https://cdn.dynablogger.com/stylesheets/6M/20220727180055629486-01b373495c826b5f2dc31e0b9b13e640/Oby0/main.css" rel="stylesheet"> <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/atom-one-dark.min.css" rel="stylesheet"> <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/highlight.min.js"></script> <script defer src="https://commento.botta.me/js/commento.js"></script> <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml"> <title>L2TP IPSec VPN for private browsing</title> <meta name="generator" content="DynaBlogger"> <meta name="author" content="Vito Botta"> <meta name="description" content=" Why an L2TP IPSec VPN I use VPNs all the time these days to access resources that I have restr..."> <link rel="canonical" href="https://vitobotta.com/2013/02/28/l2tp-ipsec-vpn/"> <link rel="alternate" hreflang="en" href="https://vitobotta.com/2013/02/28/l2tp-ipsec-vpn/"> <link rel="alternate" hreflang="x-default" href="https://vitobotta.com/2013/02/28/l2tp-ipsec-vpn/"> <meta property="og:title" content="L2TP IPSec VPN for private browsing"> <meta property="og:type" content="article"> <meta property="og:url" content="https://vitobotta.com/2013/02/28/l2tp-ipsec-vpn/"> <meta property="og:description" content=" Why an L2TP IPSec VPN I use VPNs all the time these days to access resources that I have restr..."> <meta property="og:locale" content="en"> <meta property="og:site_name" content="has_many :codes"> <meta property="article:tag" content="VPN"> <meta property="article:tag" content="Linux"> <meta property="article:tag" content="macOS"> <meta property="article:tag" content="security"> <meta name="document_id" content="N6O"> <meta name="document_type" content="posts"> <link data-behaviour="comments" rel="stylesheet" href="https://cdn.dynablogger.com/comments/6M/01b373495c826b5f2dc31e0b9b13e640/stylesheet.css"> <script data-behaviour="comments" src="https://cdn.dynablogger.com/comments/6M/01b373495c826b5f2dc31e0b9b13e640/script.js"></script> </head> <body> <div class="w-full text-center px-8 py-4 bg-blue-600 text-white"> <div class="w-64 mx-auto flex items-center justify-center justify-between text-lg no-underline text-white"> <a class="hidden" href="#"> <svg aria-hidden="true" class="fab fa-facebook h-6 w-6" data-fa-i2svg="" data-icon="facebook" data-prefix="fab" focusable="false" role="img" viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"> <path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z" fill="currentColor"></path> </svg> </a> <a class="hidden ml-4 lg:ml-6" href="#"> <svg aria-hidden="true" class="fab fa-instagram h-6 w-6" data-fa-i2svg="" data-icon="instagram" data-prefix="fab" focusable="false" role="img" viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"> <path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z" fill="currentColor"></path> </svg> </a> <a class="ml-4 lg:ml-6" href="https://twitter.com/vitobotta" title="Twitter" target="_blank"> <svg aria-hidden="true" class="fab fa-twitter h-6 w-6" data-fa-i2svg="" data-icon="twitter" data-prefix="fab" focusable="false" role="img" viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"> <path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z" fill="currentColor"></path> </svg> </a> <a class="ml-4 lg:ml-6" href="https://www.linkedin.com/in/vitobotta/" title="LinkedIn" target="_blank"> <svg aria-hidden="true" class="h-6 w-6" data-fa-i2svg="" data-icon="linkedin" data-prefix="fab" focusable="false" role="img" viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"> <path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z" fill="currentColor"></path> </svg> </a> <a class="ml-4 lg:ml-6" href="https://github.com/vitobotta" title="Github" target="_blank"> <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewbox="-6.39108 -10.38875 55.38936 62.3325"><g fill="#fff"> <path d="M21.3035 0C9.5395 0 0 9.5373 0 21.3035c0 9.4122 6.1041 17.3976 14.5687 20.2146 1.0646.1972 1.4555-.4622 1.4555-1.0249 0-.5076-.0198-2.1861-.0289-3.9662-5.9266 1.2887-7.1772-2.5136-7.1772-2.5136-.9691-2.462-2.3654-3.1171-2.3654-3.1171-1.9329-1.3222.1457-1.295.1457-1.295 2.1392.1502 3.2656 2.1956 3.2656 2.1956 1.9001 3.2565 4.9837 2.315 6.1994 1.7706.1916-1.3765.7433-2.3167 1.3526-2.8487-4.7319-.5383-9.706-2.3653-9.706-10.5283 0-2.3255.8322-4.2259 2.195-5.7178-.2212-.537-.9504-2.7037.2067-5.638 0 0 1.789-.5723 5.8596 2.184 1.6994-.472 3.5218-.7088 5.3323-.7172 1.8104.008 3.6343.2451 5.3368.7172 4.0661-2.7563 5.8526-2.184 5.8526-2.184 1.1596 2.9343.4304 5.101.2092 5.638 1.366 1.4919 2.1921 3.3923 2.1921 5.7178 0 8.1827-4.9837 9.984-9.7275 10.5114.7642.6611 1.445 1.9576 1.445 3.9451 0 2.8505-.0243 5.1446-.0243 5.8462 0 .5673.3831 1.2316 1.463 1.0224 8.4603-2.8201 14.5566-10.8028 14.5566-20.212C42.6071 9.5372 33.0691 0 21.3036 0" fill-rule="evenodd"></path><path d="M8.0689 30.587c-.047.1061-.2135.1379-.3651.0649-.155-.0695-.2413-.2138-.1913-.32.046-.1087.2124-.139.367-.0663.1545.0695.2426.2152.1894.3214m.863.9625c-.1016.0942-.3006.0504-.435-.0984-.1397-.1485-.1655-.3475-.0624-.4427.1048-.0942.2974-.0501.4367.0984.1397.1503.1669.3475.0607.4427m.8399 1.2268c-.1305.091-.3443.006-.4763-.1834-.1305-.1898-.1305-.417.003-.508.132-.091.3426-.009.4763.1788.1302.1926.1302.4198-.003.5126m1.1506 1.1855c-.1167.1287-.3654.0942-.5475-.0815-.1862-.1718-.238-.4156-.1213-.5444.1185-.129.3686-.0928.552.0815.185.1715.241.417.1168.5444m1.5876.6882c-.052.167-.291.2424-.5324.1715-.241-.073-.3986-.268-.35-.4367.0502-.1683.2908-.247.5338-.1711.2406.0727.3987.2667.3486.4364m1.7435.1275c.006.1757-.1986.3214-.4519.3245-.2547.006-.461-.1365-.4639-.3094 0-.1774.2004-.3213.4547-.326.2533-.005.4611.1366.4611.3109m1.6223-.276c.0303.171-.1457.3471-.3972.394-.2473.0455-.4763-.0607-.5077-.2303-.0307-.1757.1482-.3517.3955-.3972.2519-.0437.4773.0593.5094.2335"></path></g> </svg> </a> <a class="ml-4 lg:ml-6" href="/feed.xml" title="Github" target="_blank"> <svg version="1.1" id="Layer_1" class="h-8 w-8 bg-blue-600" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve"> <g> <path style="fill:#FCFCFC;" d="M155.826,401.252c-24.856,0-45.078-20.222-45.078-45.078c0-24.856,20.222-45.078,45.078-45.078 s45.078,20.222,45.078,45.078C200.904,381.03,180.683,401.252,155.826,401.252z"></path> <path style="fill:#FCFCFC;" d="M249.878,387.908v-10.041c0-63.924-51.821-115.744-115.744-115.744h-10.041 c-1.223,0-2.214-0.992-2.214-2.214v-57.902c0-1.223,0.992-2.214,2.214-2.214h10.041c98.349,0,178.075,79.727,178.075,178.075 v10.041c0,1.223-0.992,2.214-2.214,2.214h-57.902C250.87,390.122,249.878,389.13,249.878,387.908z"></path> <path style="fill:#FCFCFC;" d="M361.183,387.908v-10.041c0-125.395-101.653-227.049-227.049-227.049h-10.041 c-1.223,0-2.214-0.992-2.214-2.214V90.701c0-1.223,0.992-2.214,2.214-2.214h12.255c76.705,0,148.818,29.87,203.057,84.108 c54.239,54.239,84.108,126.352,84.108,203.057v12.256c0,1.223-0.992,2.214-2.214,2.214h-57.902 C362.174,390.122,361.183,389.13,361.183,387.908z"></path> </g> </svg> </a> </div> </div> <div class="w-full text-center p-4 sm:p-8 bg-white"> <div class="text-4xl sm:text-5xl xl:text-6xl text-gray-800 font-semibold"> has_many :codes </div> <div class="mt-2 lg:mt-4 text-xl sm:text-2xl xl:text-3xl text-gray-600">Tips and walkthroughs on web technologies and digital life</div> </div> <div class="w-full text-center p-4 sm:p-8 bg-gray-200 border border-gray-300 border-l-0 border-r-0 mb-8 sm:text-xl"> <ul class="list-none mx-auto w-full max-w-lg flex justify-center flex-wrap"> <li> <a class="uppercase text-xl mx-6" href="/">Home</a> </li> <li> <a class="uppercase text-xl mx-6" href="https://vitobotta.com/about/">About</a> </li> <li> <a class="uppercase text-xl mx-6" href="https://vitobotta.com/geeky-cv/">Geeky CV</a> </li> <li> <a class="uppercase text-xl mx-6" href="https://vitobotta.com/search/">Search</a> </li> </ul> </div> <div class="flex text-lg justify-center"> <main class="px-4 sm:px-8 pb-4 sm:max-w-full w-full lg:max-w-3xl xl:max-w-4xl"> <article class="lg:mb-12 border border-gray-200 rounded shadow-lg p-6 bg-white"> <header> <span class="md:flex"> <div class="uppercase mb-2"> <a class="text-blue-500 text-sm sm:text-base lg:text-lg" href="https://vitobotta.com/tags/vpn/">VPN</a> • <a class="text-blue-500 text-sm sm:text-base lg:text-lg" href="https://vitobotta.com/tags/linux/">Linux</a> • <a class="text-blue-500 text-sm sm:text-base lg:text-lg" href="https://vitobotta.com/tags/macos/">macOS</a> • <a class="text-blue-500 text-sm sm:text-base lg:text-lg" href="https://vitobotta.com/tags/security/">security</a> </div> </span> <h1 class="mt-3 text-2xl sm:text-3xl xl:text-4xl flex items-center"> <a href="https://vitobotta.com/2013/02/28/l2tp-ipsec-vpn/" class="document-title font-semibold"> L2TP IPSec VPN for private browsing </a> </h1> <div class="mt-4 flex justify-between"> <div class="text-gray-700 flex items-center text-base sm:text-lg"> <img src="https://cdn.dynablogger.com/static/blobs/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBdXcxIiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--32dd40b68b9e9d86bb617ff9b756a850aa20cc59/calendar.png" class="hidden lg:block"> <div class="hidden lg:block ml-2 mt-1"> Published <time>Thursday, Feb 28 2013</time> </div> </div> <div class="hidden lg:block"> <a href="#commento-wrapper" class="underline mt-1">Jump to comments</a> </div> </div> <div class="lg:hidden text-base sm:text-lg flex items-center"> <img src="https://cdn.dynablogger.com/static/blobs/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBdXcxIiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--32dd40b68b9e9d86bb617ff9b756a850aa20cc59/calendar.png" class="mr-2"> Published   <time>Thursday, Feb 28 2013</time> </div> </header> <section class="mt-8"> <p class="text-xl"> </p> <div class="trix-content"> <h2>Why an L2TP IPSec VPN</h2> <p>I use VPNs all the time these days to access resources that I have restricted on the servers I manage. I also want to be able to watch live TV programs from various countries regardless of where I am; in most cases live TV is only available in the country of origin, therefore without a VPN or similar solutions it is not possible to watch them from elsewhere, using the original websites. I know that there are reasons for these geographical restrictions, but that’s not the point of this article ;). I also own an iPad and an iPhone so I prefer having a private connection when I am on the move and need to surf the Internet or just check my emails, but have to use some network over which I have no control. Gmail and many sites I need use SSL, but nevertheless using a VPN gives peace of mind since you don’t have to worry as much about how much attention has been paid to the security aspects of these services, at least as far as the encryption of the data is concerned. So the VPN I use must also be compatible with these devices, and that’s why I have replaced my long time favourite OpenVPN with an L2TP IPSec VPN on each of my servers. These VPNs are IMO simpler to setup, secure, and compatible with most operating systems and devices without requiring additional client software in order to establish the connection. This is a plus, since it means I can also configure a VPN access on my iPhone without having to jail break it or install third party apps to be able to use another VPN.</p> <p>So here’s a simple guide on how to set up an L2TP IPSec VPN on a Ubuntu server and get both a Mac and an iPhone connected. The process should be very similar with other Linux distributions. Hopefully this will help you save some trial and error; I won’t go in the details for each setting or command as I am myself not too familiar with several of them; so if you just want a “fast-track” how-to here you are.</p> <p>To set up an L2TP IPSec VPN, you’ll need to install OpenSwan, which is an IPSec implementation for Linux; IPSec is responsible for the encryption of the packets.</p> <pre class="language-bash"><code>apt-get install openswan
</code></pre> <p>You will be asked Do you have an existing X509 certificate file that you want to use for Openswan?. If you, like me, want an L2TP IPSec VPN compatible with iPhones/iPads and other devices, answer No since these typically do not support setups with certificates.</p> <p>Next you’ll need to edit a few configuration files. I’ll paste below the settings I currently use on 5 L2TP IPSec VPN servers and that I know work for sure; you may want to empty those files before pasting the configurations I suggest, just to keep things simpler.</p> <p>First, edit /etc/ipsec.conf and change/add the following settings:</p> <pre class="language-text"><code>version 2.0
config setup
nat_traversal=yes
virtual_private=%v4:10.0.0.0/8,%v4:192.168.0.0/16,%v4:172.16.0.0/12
oe=off
protostack=netkey

conn L2TP-PSK-NAT
rightsubnet=vhost:%priv
also=L2TP-PSK-noNAT

conn L2TP-PSK-noNAT
authby=secret
pfs=no
auto=add
keyingtries=3
rekey=no
ikelifetime=8h
keylife=1h
type=transport
left=the public IP of your server
leftprotoport=17/1701
right=%any
rightprotoport=17/%any
</code></pre> <p>Obviously, replace the value for the left setting with the actual public IP of the box on which you are installing the L2TP IPSec VPN server.</p> <p>Next, edit /etc/ipsec.secrets and add the following:</p> <pre class="language-text"><code>(server's public IP) %any: PSK "Your shared secret"
</code></pre> <p>Again, you will have to specify here the public IP of the server and also a shared secret that will be used on clients together with the credentials for each specific client account.</p> <p>Now create the file /etc/vpn-setup and paste the following in it:</p> <pre class="language-bash"><code>#!/bin/bash

echo 1 &gt; /proc/sys/net/ipv4/ip_forward

for each in /proc/sys/net/ipv4/conf/*
do
echo 0 &gt; $each/accept_redirects
echo 0 &gt; $each/send_redirects
done
</code></pre> <p>Making sure you make this file executable with:</p> <pre class="language-bash"><code>chmod +x /etc/vpn-setup
</code></pre> <p>This is required to redirect all the Internet traffic through the L2TP IPSec VPN gateway; to ensure the commands in the file are executed at startup, edit /etc/rc.local and add, before the exit 0 line, /etc/vpn-setup. Run /etc/vpn-setup once, manually for now, so to apply these settings for the current session, then restart IPSec:</p> <pre class="language-bash"><code>service ipsec restart
</code></pre> <p>Next, let’s configure some firewall rules to allow the redirection of the web traffic. If you are using iptables, run the following commands to apply the required rules immediately:</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="language-bash">iptables -A INPUT -p udp -m udp --dport 500 -j ACCEPT
iptables -A INPUT -p udp -m udp --dport 4500 -j ACCEPT
iptables -A INPUT -p udp -m udp --dport 1701 -j ACCEPT
iptables -t nat -A POSTROUTING -s 10.1.2.0/24 -o eth0 -j MASQUERADE
iptables -A FORWARD -s 10.1.2.0/24 -j ACCEPT</pre></div></div> <p>Then backup the current configuration to file with:</p> <pre class="language-bash"><code>iptables-save &gt; /etc/iptables.rules
</code></pre> <p>To ensure these rules are also applied at start up, update /etc/network/interfaces so it looks something like the following:</p> <pre class="language-text"><code>auto eth0
iface eth0 inet static
address ...
netmask ...
broadcast ...
network ...
post-up iptables-restore &lt; /etc/iptables.rules
</code></pre> <p>The important line that you need to add is the one starting with post-up.</p> <p>At this point you should be able to establish an IPSec connection from a client -although we still need to sort out the authentication side- so it’s a good time to test this before going ahead:</p> <pre class="language-bash"><code>ipsec verify
</code></pre> <p>If all went well -and there are no problems with the version of the kernel you are using- you should see something like the following:</p> <pre class="language-text"><code>Checking your system to see if IPSec got installed and started correctly:
Version check and ipsec on-path [OK]
Linux Openswan U2.6.28/K2.6.32-5-686 (netkey)
Checking for IPSec support in kernel [OK]
NETKEY detected, testing for disabled ICMP send\_redirects [OK]
NETKEY detected, testing for disabled ICMP accept\_redirects [OK]
Checking that pluto is running [OK]
Pluto listening for IKE on udp 500 [OK]
Pluto listening for NAT-T on udp 4500 [OK]
Checking for 'ip' command [OK]
Checking for 'iptables' command [OK]
Opportunistic Encryption Support [DISABLED]
</code></pre> <p>I can’t remember how to set up an L2TP IPSec VPN client on Windows or Linux desktop, but here’s how to do it on Mac: go to System Preferences -&gt; Network, and create a new connection by clicking on the + button. When you’re asked for the type of the connection you want to create, choose VPN and leave the default type selected, in order to configure an L2TP IPSec VPN connection. Then give your connection whatever name you prefer:</p> <figure><action-text-attachment sgid="BAh7CEkiCGdpZAY6BkVUSSI7Z2lkOi8vZHluYWJsb2dnZXIvQWN0aXZlU3RvcmFnZTo6QmxvYi8xMzE1ND9leHBpcmVzX2luBjsAVEkiDHB1cnBvc2UGOwBUSSIPYXR0YWNoYWJsZQY7AFRJIg9leHBpcmVzX2F0BjsAVDA=--86dbff9cad5d80e4a405fb5a9520321f9dd00008" content-type="image/jpeg" url="/static/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBbUl6IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--dbb8ce8ec030a724059e90159cde16ceb9db7a3b/1-1-jpg-1c6b9a.jpeg" filename="1-1-jpg-1c6b9a.jpeg" filesize="12352" width="411" height="194" previewable="true"><figure class="attachment attachment--preview attachment--jpeg"> <img src="https://cdn.dynablogger.com/static/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBbUl6IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--dbb8ce8ec030a724059e90159cde16ceb9db7a3b/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9VY21WemFYcGxYM1J2WDJ4cGJXbDBXd2RwQWdBRWFRSUFBdz09IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--62254c805d18962f1ac85d0730cb52228a017fca/1-1-jpg-1c6b9a.jpeg"> <figcaption class="attachment__caption"> <span class="attachment__name">1-1-jpg-1c6b9a.jpeg</span> <span class="attachment__size">12.1 KB</span> </figcaption> </figure></action-text-attachment></figure><p>Then enter either the server’s IP or a hostname pointing to it, and in Account name enter whatever username you’ll want to use to establish the connection. Don’t worry if you haven’t configured this yet, the authentication will fail at first but we’ll need to verify the IPSec connection can be established correctly before proceeding with the rest of the configuration:</p> <figure><action-text-attachment sgid="BAh7CEkiCGdpZAY6BkVUSSI7Z2lkOi8vZHluYWJsb2dnZXIvQWN0aXZlU3RvcmFnZTo6QmxvYi8xMzE1NT9leHBpcmVzX2luBjsAVEkiDHB1cnBvc2UGOwBUSSIPYXR0YWNoYWJsZQY7AFRJIg9leHBpcmVzX2F0BjsAVDA=--0b03eaa6446ab4405c4eef91cb08be6ed8a211fc" content-type="image/jpeg" url="/static/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBbU16IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--6ae3b17cd6f803e83009bc9fc1758adda52cf7b0/2-1-jpg-1c6b9a.jpeg" filename="2-1-jpg-1c6b9a.jpeg" filesize="11258" width="400" height="189" previewable="true"><figure class="attachment attachment--preview attachment--jpeg"> <img src="https://cdn.dynablogger.com/static/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBbU16IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--6ae3b17cd6f803e83009bc9fc1758adda52cf7b0/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9VY21WemFYcGxYM1J2WDJ4cGJXbDBXd2RwQWdBRWFRSUFBdz09IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--62254c805d18962f1ac85d0730cb52228a017fca/2-1-jpg-1c6b9a.jpeg"> <figcaption class="attachment__caption"> <span class="attachment__name">2-1-jpg-1c6b9a.jpeg</span> <span class="attachment__size">11 KB</span> </figcaption> </figure></action-text-attachment></figure><p>Next, in Authentication Settings you need to enter the password you are going to use with your account and the shared secret specified in /etc/ipsec.secrets:</p> <figure><action-text-attachment sgid="BAh7CEkiCGdpZAY6BkVUSSI7Z2lkOi8vZHluYWJsb2dnZXIvQWN0aXZlU3RvcmFnZTo6QmxvYi8xMzE1Nj9leHBpcmVzX2luBjsAVEkiDHB1cnBvc2UGOwBUSSIPYXR0YWNoYWJsZQY7AFRJIg9leHBpcmVzX2F0BjsAVDA=--1cf2b5c9ac6664a57d290c08e0bd39de100b8dea" content-type="image/png" url="/static/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBbVF6IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--d72620a062576e16188ac6103795fab2e5e9c05f/3-png-1c6b9a.png" filename="3-png-1c6b9a.png" filesize="14612" width="372" height="378" previewable="true"><figure class="attachment attachment--preview attachment--png"> <img src="https://cdn.dynablogger.com/static/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBbVF6IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--d72620a062576e16188ac6103795fab2e5e9c05f/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9VY21WemFYcGxYM1J2WDJ4cGJXbDBXd2RwQWdBRWFRSUFBdz09IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--62254c805d18962f1ac85d0730cb52228a017fca/3-png-1c6b9a.png"> <figcaption class="attachment__caption"> <span class="attachment__name">3-png-1c6b9a.png</span> <span class="attachment__size">14.3 KB</span> </figcaption> </figure></action-text-attachment></figure><p>In Advanced make sure the option Send all traffic over VPN connection is checked if you want to appear as from the location of your server:</p> <figure><action-text-attachment sgid="BAh7CEkiCGdpZAY6BkVUSSI7Z2lkOi8vZHluYWJsb2dnZXIvQWN0aXZlU3RvcmFnZTo6QmxvYi8xMzE1Nz9leHBpcmVzX2luBjsAVEkiDHB1cnBvc2UGOwBUSSIPYXR0YWNoYWJsZQY7AFRJIg9leHBpcmVzX2F0BjsAVDA=--60127dd3bb7761354284b8861349bbeb097bef32" content-type="image/png" url="/static/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBbVV6IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--0a5c75d78e520045f5571c03ca6fc4d2b05b35e4/4-png-1c6b9a-2.png" filename="4-png-1c6b9a-2.png" filesize="11106" width="428" height="238" previewable="true"><figure class="attachment attachment--preview attachment--png"> <img src="https://cdn.dynablogger.com/static/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBbVV6IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--0a5c75d78e520045f5571c03ca6fc4d2b05b35e4/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9VY21WemFYcGxYM1J2WDJ4cGJXbDBXd2RwQWdBRWFRSUFBdz09IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--62254c805d18962f1ac85d0730cb52228a017fca/4-png-1c6b9a-2.png"> <figcaption class="attachment__caption"> <span class="attachment__name">4-png-1c6b9a-2.png</span> <span class="attachment__size">10.8 KB</span> </figcaption> </figure></action-text-attachment></figure><p>Now, still on your Mac, open a terminal and run</p> <pre class="language-bash"><code>tail -f /var/log/system.log</code></pre> <p>then click on Connect in the L2TP IPSec VPN connection’s settings. If everything was fine so far you should see something like this:</p> <pre class="language-text"><code>Feb 16 22:32:50 Vitos-Mac-Pro-3.local configd[17]: SCNC: start, triggered by SystemUIServer, type L2TP, status 0Feb 16 22:32:50 Vitos-Mac-Pro-3.local pppd[87354]: pppd 2.4.2 (Apple version 596.13) started by vito, uid 502

Feb 28 22:32:50 Vitos-Mac-Pro-3.local pppd[87354]: L2TP connecting to server '...' (xxx.xxx.xxx.xxx)...
Feb 28 22:32:50 Vitos-Mac-Pro-3.local pppd[87354]: IPSec connection started
Feb 28 22:32:50 Vitos-Mac-Pro-3.local racoon[378]: Connecting.
Feb 28 22:32:50 Vitos-Mac-Pro-3.local racoon[378]: IPSec Phase1 started (Initiated by me).
Feb 28 22:32:50 Vitos-Mac-Pro-3.local racoon[378]: IKE Packet: transmit success. (Initiator, Main-Mode message 1).
Feb 28 22:32:53 Vitos-Mac-Pro-3.local racoon[378]: IKE Packet: transmit success. (Phase1 Retransmit).
Feb 28 22:33:00 --- last message repeated 2 times ---
Feb 28 22:33:00 Vitos-Mac-Pro-3.local pppd[87354]: IPSec connection failed
Feb 28 22:33:00 Vitos-Mac-Pro-3.local racoon[378]: IPSec disconnecting from server xxx.xxx.xxx.xxx
</code></pre> <p>Don’t worry about the message IP connection failed, that’s because we haven’t configured the authentication on the server yet; the important thing is that the connection is fine (i.e. IPSec connection started). Now, for the authentication, install xl2tpd with</p> <pre class="language-bash"><code>apt-get install xl2tpd ppp
</code></pre> <p>then edit /etc/xl2tpd/xl2tpd.conf and either change the following settings or just remove everything in there and paste what follows:</p> <pre class="language-ini"><code>[global]
ipsec saref = yes

[lns default]
ip range = 10.1.2.2-10.1.2.255
local ip = 10.1.2.1
refuse chap = yes
refuse pap = yes
require authentication = yes
ppp debug = yes
pppoptfile = /etc/ppp/options.xl2tpd
length bit = yes
</code></pre> <p>Next, edit /etc/ppp/options.xl2tpd and paste the following:</p> <pre class="language-ini"><code>require-mschap-v2
ms-dns 8.8.8.8
ms-dns 8.8.4.4
asyncmap 0
auth
crtscts
lock
hide-password
modem
debug
name l2tpd
proxyarp
lcp-echo-interval 30
lcp-echo-failure 4
</code></pre> <p>The last bit of configuration is the file /etc/ppp/chap-secrets which contains the credentials for each VPN account:</p> <pre class="language-text"><code># Secrets for authentication using CHAP
# client server secret IP addresses
&lt;username&gt; l2tpd &lt;password&gt; *
</code></pre> <p>Finally, restart the various services involved:</p> <pre class="language-bash"><code>/etc/init.d/xl2tpd restart
/etc/init.d/ipsec restart
/etc/init.d/pppd-dns restart
</code></pre> <p>You should now be able to successfully establish a connection from your Mac client and your IP address, as seen from the Internet, will be that of your L2TP IPSec VPN server.</p> <p>Configuring the VPN client on a mobile device should be very simple in most cases; with the iPhone for example, go to Settings -&gt; VPN:</p> <figure><action-text-attachment sgid="BAh7CEkiCGdpZAY6BkVUSSI7Z2lkOi8vZHluYWJsb2dnZXIvQWN0aXZlU3RvcmFnZTo6QmxvYi8xMzE1OD9leHBpcmVzX2luBjsAVEkiDHB1cnBvc2UGOwBUSSIPYXR0YWNoYWJsZQY7AFRJIg9leHBpcmVzX2F0BjsAVDA=--378a9167a7f05e54aaffff2d343d26cd3f446caf" content-type="image/png" url="/static/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBbVl6IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--3ae28f29a63b69a9d79b84e0da257fc9aff5954f/5-png-1c6b9a.png" filename="5-png-1c6b9a.png" filesize="10186" width="281" height="248" previewable="true"><figure class="attachment attachment--preview attachment--png"> <img src="https://cdn.dynablogger.com/static/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBbVl6IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--3ae28f29a63b69a9d79b84e0da257fc9aff5954f/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9VY21WemFYcGxYM1J2WDJ4cGJXbDBXd2RwQWdBRWFRSUFBdz09IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--62254c805d18962f1ac85d0730cb52228a017fca/5-png-1c6b9a.png"> <figcaption class="attachment__caption"> <span class="attachment__name">5-png-1c6b9a.png</span> <span class="attachment__size">9.95 KB</span> </figcaption> </figure></action-text-attachment></figure><p>Then add a new VPN configuration:</p> <figure><action-text-attachment sgid="BAh7CEkiCGdpZAY6BkVUSSI7Z2lkOi8vZHluYWJsb2dnZXIvQWN0aXZlU3RvcmFnZTo6QmxvYi8xMzE1OT9leHBpcmVzX2luBjsAVEkiDHB1cnBvc2UGOwBUSSIPYXR0YWNoYWJsZQY7AFRJIg9leHBpcmVzX2F0BjsAVDA=--249de50ea4f2dd1cb802a1c9ca075bbcaab6ec9a" content-type="image/png" url="/static/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBbWN6IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--3ab28ba870c228e693a11193801ed1c4e6ea0d0a/6-png-1c6b9a.png" filename="6-png-1c6b9a.png" filesize="6737" width="257" height="286" previewable="true"><figure class="attachment attachment--preview attachment--png"> <img src="https://cdn.dynablogger.com/static/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBbWN6IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--3ab28ba870c228e693a11193801ed1c4e6ea0d0a/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9VY21WemFYcGxYM1J2WDJ4cGJXbDBXd2RwQWdBRWFRSUFBdz09IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--62254c805d18962f1ac85d0730cb52228a017fca/6-png-1c6b9a.png"> <figcaption class="attachment__caption"> <span class="attachment__name">6-png-1c6b9a.png</span> <span class="attachment__size">6.58 KB</span> </figcaption> </figure></action-text-attachment></figure><p>Then enter the same information you have used on your Mac or anyway other client.</p> <figure><action-text-attachment sgid="BAh7CEkiCGdpZAY6BkVUSSI7Z2lkOi8vZHluYWJsb2dnZXIvQWN0aXZlU3RvcmFnZTo6QmxvYi8xMzE2MD9leHBpcmVzX2luBjsAVEkiDHB1cnBvc2UGOwBUSSIPYXR0YWNoYWJsZQY7AFRJIg9leHBpcmVzX2F0BjsAVDA=--9347e7d826f94afd102c0e51b55aa8a02221a9a6" content-type="image/png" url="/static/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBbWd6IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1bcc14a44acffeaf083b66ac74c86940e54b8c29/7-png-1c6b9a.png" filename="7-png-1c6b9a.png" filesize="7292" width="254" height="315" previewable="true"><figure class="attachment attachment--preview attachment--png"> <img src="https://cdn.dynablogger.com/static/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBbWd6IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1bcc14a44acffeaf083b66ac74c86940e54b8c29/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9VY21WemFYcGxYM1J2WDJ4cGJXbDBXd2RwQWdBRWFRSUFBdz09IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--62254c805d18962f1ac85d0730cb52228a017fca/7-png-1c6b9a.png"> <figcaption class="attachment__caption"> <span class="attachment__name">7-png-1c6b9a.png</span> <span class="attachment__size">7.12 KB</span> </figcaption> </figure></action-text-attachment></figure><p>Ensure the Send all traffic is turned on, so to have a more private connection when you are on the move. Finally, go back to the first screen and turn the VPN on. As said in the beginning these instructions have worked for me with several L2TP IPSec VPN servers, but please let me know if they don’t work for you.</p> </div> </section> <div class="w-full py-3 text-center text-1xl flex justify-between"> <div class="flex-1 text-left"> Previous: <a href="https://vitobotta.com/2012/08/17/filevault-users-home-directory-on-an-encrypted-second-drive/" class="link"> FileVault: home directory on an encrypted second drive </a> </div> <div class="flex-1 text-right"> Next: <a href="https://vitobotta.com/2013/03/17/mysql-cluster-with-perconagalera/" class="link"> Percona Galera MySQL Cluster </a> </div> </div> <h4 class="my-6 font-lg">Comments</h4> <div id="commento-wrapper"> <div id="commento"></div> </div> </article> </main> <div class="text-gray-700 min-h-screen flex-no-grow hidden lg:block sidebar lg:mr-8" id="sidebar"> <div class="px-6 lg:px-6 pt-6 pb-3 border border-gray-200 rounded shadow-lg bg-white"> <h3 class="font-semibold text-xl xl:text-2xl text-gray-700 mb-4">The author</h3> <div class="pb-6 sm:text-lg"> <p class="mb-3"><img src="https://cdn.dynablogger.com/static/blobs/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBa1EwIiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--ed31a3ccb9705508ddccba14ea551a2dbf9012a2/Headshot-80x80.jpeg" class="float-left mr-3">I am a passionate developer based in Espoo, Finland, where I work as Senior Backend Developer for event management platform <a href="https://www.brella.io/" target="_blank" class="underline font-semibold">Brella</a>.</p> <p class="mb-3">My roles as architect, coder and technology enthusiast overlap each other here on this web log.</p> <p class="mb-3">Unless otherwise noted, the views expressed on these pages are mine alone and not those of my employer.</p> <p class="mb-3">Thanks for stopping by. - Vito Botta</p> <a href="/about/" class="underline font-semibold">Learn more</a> </div> </div> <div class="mt-4 px-6 pt-6 pb-3 border border-gray-200 rounded shadow-lg bg-white"> <h3 class="font-semibold text-xl xl:text-2xl text-gray-700 mb-4">Latest posts</h3> <ul class="list-none"> <li class="py-1 bxorder border-r-0 border-0 border-t-0 mb-2"> <a class="link sm:text-lg" href="https://vitobotta.com/2022/07/26/how-to-host-email-for-custom-domains-for-free-or-almost-free/"> How to host email for custom domains for free (or almost free) </a> </li> <li class="py-1 bxorder border-r-0 border-0 border-t-0 mb-2"> <a class="link sm:text-lg" href="https://vitobotta.com/2022/06/18/scaling-rails-web-sockets-in-kubernetes-with-anycable/"> Scaling Rails web sockets in Kubernetes with AnyCable </a> </li> <li class="py-1 bxorder border-r-0 border-0 border-t-0 mb-2"> <a class="link sm:text-lg" href="https://vitobotta.com/2022/03/11/self-hosting-nextcloud-with-dokku-and-s3-compatible-storage/"> Self-hosting Nextcloud with Dokku and s3 compatible storage </a> </li> <li class="py-1 bxorder border-r-0 border-0 border-t-0 mb-2"> <a class="link sm:text-lg" href="https://vitobotta.com/2022/02/27/free-ngrok-alternative-with-cloudflare-tunnels/"> Free Ngrok alternative with Cloudflare Tunnels </a> </li> <li class="py-1 bxorder border-r-0 border-0 border-t-0 mb-2"> <a class="link sm:text-lg" href="https://vitobotta.com/2022/02/16/deploying-an-app-with-dokku/"> Deploying an app with Dokku </a> </li> </ul> </div> <div class="mt-4 px-6 pt-6 pb-3 border border-gray-200 rounded shadow-lg bg-white"> <h3 class="font-semibold text-xl xl:text-2xl text-gray-700 mb-4">Topics</h3> <div> <a class="link tag2" href="https://vitobotta.com/tags/hetzner-cloud/"> Hetzner Cloud </a> • <a class="link tag1" href="https://vitobotta.com/tags/tips/"> Tips </a> • <a class="link tag1" href="https://vitobotta.com/tags/self-hosting/"> self-hosting </a> • <a class="link tag2" href="https://vitobotta.com/tags/devops/"> devops </a> • <a class="link tag2" href="https://vitobotta.com/tags/google/"> Google </a> • <a class="link tag1" href="https://vitobotta.com/tags/productivity/"> productivity </a> • <a class="link tag1" href="https://vitobotta.com/tags/javascript/"> JavaScript </a> • <a class="link tag2" href="https://vitobotta.com/tags/blogging/"> blogging </a> • <a class="link tag2" href="https://vitobotta.com/tags/jekyll/"> Jekyll </a> • <a class="link tag1" href="https://vitobotta.com/tags/css/"> CSS </a> • <a class="link tag1" href="https://vitobotta.com/tags/apps/"> apps </a> • <a class="link tag3" href="https://vitobotta.com/tags/rancher/"> rancher </a> • <a class="link tag1" href="https://vitobotta.com/tags/postgresql/"> PostgreSQL </a> • <a class="link tag6" href="https://vitobotta.com/tags/ruby/"> Ruby </a> • <a class="link tag1" href="https://vitobotta.com/tags/digital-ocean/"> Digital Ocean </a> • <a class="link tag1" href="https://vitobotta.com/tags/sql-server/"> SQL Server </a> • <a class="link tag1" href="https://vitobotta.com/tags/ci-cd/"> CI/CD </a> • <a class="link tag1" href="https://vitobotta.com/tags/api/"> API </a> • <a class="link tag5" href="https://vitobotta.com/tags/ruby-on-rails/"> Ruby on Rails </a> • <a class="link tag1" href="https://vitobotta.com/tags/cloudflare/"> cloudflare </a> • <a class="link tag1" href="https://vitobotta.com/tags/web-design/"> Web Design </a> • <a class="link tag2" href="https://vitobotta.com/tags/testing/"> Testing </a> • <a class="link tag1" href="https://vitobotta.com/tags/vpn/"> VPN </a> • <a class="link tag1" href="https://vitobotta.com/tags/mobile/"> mobile </a> • <a class="link tag1" href="https://vitobotta.com/tags/performance/"> Performance </a> • <a class="link tag2" href="https://vitobotta.com/tags/mysql/"> MySQL </a> • <a class="link tag1" href="https://vitobotta.com/tags/dns/"> DNS </a> • <a class="link tag3" href="https://vitobotta.com/tags/linux/"> Linux </a> • <a class="link tag1" href="https://vitobotta.com/tags/nextcloud/"> nextcloud </a> • <a class="link tag2" href="https://vitobotta.com/tags/terraform/"> terraform </a> • <a class="link tag2" href="https://vitobotta.com/tags/docker/"> Docker </a> • <a class="link tag1" href="https://vitobotta.com/tags/backup/"> Backup </a> • <a class="link tag2" href="https://vitobotta.com/tags/wordpress/"> Wordpress </a> • <a class="link tag1" href="https://vitobotta.com/tags/email/"> email </a> • <a class="link tag1" href="https://vitobotta.com/tags/kvm/"> KVM </a> • <a class="link tag5" href="https://vitobotta.com/tags/programming/"> programming </a> • <a class="link tag2" href="https://vitobotta.com/tags/virtualisation/"> Virtualisation </a> • <a class="link tag1" href="https://vitobotta.com/tags/infrastructure/"> infrastructure </a> • <a class="link tag5" href="https://vitobotta.com/tags/kubernetes/"> kubernetes </a> • <a class="link tag3" href="https://vitobotta.com/tags/security/"> security </a> • <a class="link tag2" href="https://vitobotta.com/tags/storage/"> Storage </a> • <a class="link tag2" href="https://vitobotta.com/tags/apple/"> Apple </a> • <a class="link tag1" href="https://vitobotta.com/tags/nginx/"> Nginx </a> • <a class="link tag1" href="https://vitobotta.com/tags/system-administration/"> System Administration </a> • <a class="link tag1" href="https://vitobotta.com/tags/ansible/"> ansible </a> • <a class="link tag3" href="https://vitobotta.com/tags/databases/"> databases </a> • <a class="link tag2" href="https://vitobotta.com/tags/macos/"> macOS </a> </div> </div> <div class="mt-4 px-6 pt-6 pb-3 border border-gray-200 rounded shadow-lg bg-white"> <h3 class="font-semibold text-xl xl:text-2xl text-gray-700 mb-4">License</h3> <div class="text-center"> <p class="italic"> "Any exposure is good for an artist." </p> <p class="mb-3"> - George Carlin </p> <p class="mb-3 w-full"> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" class="w-full text-center"> <img alt="Creative Commons Licence" style="border-width:0" class="mx-auto" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"> </a> <br>This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>. </p> </div> </div> <div class="mt-4 px-6 pt-6 pb-3 border border-gray-200 rounded shadow-lg bg-white"> <h3 class="font-semibold text-xl xl:text-2xl text-gray-700 mb-4">Archives</h3> <ul class="list-none"> Liquid error: internal </ul> </div> </div> </div> <div class="uppercase py-8 w-full text-center"> © Vito Botta </div> <script src="https://cdn.dynablogger.com/scripts/6M/20220727180055629486-01b373495c826b5f2dc31e0b9b13e640/gGN4/instantpage.js" type="module"></script> <script>
  console.log(111);
</script> <script>
      document.addEventListener('DOMContentLoaded', (event) => {
        document.querySelectorAll('pre').forEach((el) => {
          hljs.highlightElement(el);
        });
      });
    </script> </body> </html>