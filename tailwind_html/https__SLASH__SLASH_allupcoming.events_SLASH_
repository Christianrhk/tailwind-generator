<!doctype html>
<html lang="en">
<head>
    <title>AllUpcomingEvents - The Clubhouse events directoryÔ∏è</title>
    <meta name="description" content="Add and search Clubhouse events by category and language."/>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://unpkg.com/tailwindcss@1.4.6/dist/tailwind.min.css" rel="stylesheet">
    <style>
        input[type='date']:after {
            content: attr(placeholder);
        }
    </style>

    <link rel="icon" href="/favicons/favicon-32x32.png"/>
    <link rel="shortcut icon" href="/favicons/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
    <link rel="manifest" href="/favicons/site.webmanifest">

    <!-- COMMON TAGS -->
    <meta charset="utf-8">
    <title>AllUpcomingEvents - The Clubhouse events directoryÔ∏è</title>
    <!-- Search Engine -->
    <meta name="description" content="Add and search Clubhouse events by category and language.">
    <meta name="image" content="https://allupcoming.events/social.png">
    <!-- Schema.org for Google -->
    <meta itemprop="name" content="AllUpcomingEvents - The Clubhouse events directoryÔ∏è">
    <meta itemprop="description" content="Add and search Clubhouse events by category and language.">
    <meta itemprop="image" content="https://allupcoming.events/social.png">
    <!-- Twitter -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="AllUpcomingEvents - The Clubhouse events directoryÔ∏è">
    <meta name="twitter:description" content="Add and search Clubhouse events by category and language.">
    <meta name="twitter:image:src" content="https://allupcoming.events/social.png">
    <!-- Open Graph general (Facebook, Pinterest & Google+) -->
    <meta name="og:title" content="AllUpcomingEvents - The Clubhouse events directoryÔ∏è">
    <meta name="og:description" content="Add and search Clubhouse events by category and language.">
    <meta name="og:image" content="https://allupcoming.events/social.png">
    <meta name="og:url" content="https://allupcoming.events/">
    <meta name="og:site_name" content="AllUpcomingEvents">
    <meta name="og:type" content="website">

</head>
<body class="text-gray-700 bg-white" style="background: #edf2f7;">

<div class="p-5">
    <div class="container mx-auto px-6">
        <h1 class="text-center text-4xl font-bold mb-2">
            üëá List your upcoming Clubhouse event
        </h1>
    </div>
</div>

<div class="container mx-auto justify-center items-center p-2 md:p-0">

    <form id="form">
        <div>
            <div class="container h-3/6 mx-auto flex justify-center items-center p-2 md:p-0">
                <div class="border border-gray-300 p-6 grid grid-cols-1 gap-6 bg-white shadow-lg rounded-lg">
                    <div class="flex flex-col md:flex-row">
                        <div class="">
                            <select name="language" required class="appearance-none border p-2 rounded">
                                <option value="">Choose language</option>
                                <option>Afrikaans</option><option>Albanian</option><option>Arabic</option><option>Armenian</option><option>Basque</option><option>Bengali</option><option>Bulgarian</option><option>Catalan</option><option>Cambodian</option><option>Chinese (Mandarin)</option><option>Croatian</option><option>Czech</option><option>Danish</option><option>Dutch</option><option>English</option><option>Estonian</option><option>Fiji</option><option>Finnish</option><option>French</option><option>Georgian</option><option>German</option><option>Greek</option><option>Gujarati</option><option>Hebrew</option><option>Hindi</option><option>Hungarian</option><option>Icelandic</option><option>Indonesian</option><option>Irish</option><option>Italian</option><option>Japanese</option><option>Javanese</option><option>Korean</option><option>Latin</option><option>Latvian</option><option>Lithuanian</option><option>Macedonian</option><option>Malay</option><option>Malayalam</option><option>Maltese</option><option>Maori</option><option>Marathi</option><option>Mongolian</option><option>Nepali</option><option>Norwegian</option><option>Persian</option><option>Polish</option><option>Portuguese</option><option>Punjabi</option><option>Quechua</option><option>Romanian</option><option>Russian</option><option>Samoan</option><option>Serbian</option><option>Slovak</option><option>Slovenian</option><option>Spanish</option><option>Swahili</option><option>Swedish</option><option>Tamil</option><option>Tatar</option><option>Telugu</option><option>Thai</option><option>Tibetan</option><option>Tonga</option><option>Turkish</option><option>Ukrainian</option><option>Urdu</option><option>Uzbek</option><option>Vietnamese</option><option>Welsh</option><option>Xhosa</option>                            </select>
                        </div>
                        <div class="pt-6 md:pt-0 md:pl-6">
                            <select name="category" required class="appearance-none border p-2 rounded">
                                <option value="">Choose category</option>
                                <option>Business</option><option>Food & Drink</option><option>Health</option><option>Music</option><option>Auto, Boat & Air</option><option>Charity & Causes</option><option>Community</option><option>Family & Education</option><option>Fashion</option><option>Film & Media</option><option>Hobbies</option><option>Home & Lifestyle</option><option>Performing & Visual Arts</option><option>Government</option><option>Spirituality</option><option>School Activities</option><option>Science & Tech</option><option>Holiday</option><option>Sports & Fitness</option><option>Sports & Outdoor</option><option>Other</option>                            </select>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-1 gap-1">
                        <div class="grid grid-cols-1 gap-1 border border-gray-200 p-2 rounded">
                            <div class="flex border rounded bg-gray-300 items-center p-2 ">
                                <input required name="url" type="url" placeholder="Clubhouse event URL"
                                       class="bg-gray-300 w-full focus:outline-none text-gray-700"/>
                            </div>
                        </div>
                    </div>
                    <div class="flex justify-center">
                        <button class="p-2 border w-1/2 rounded-md bg-gray-800 text-white">Add Clubhouse event üëç
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </form>

    <form class="py-4">
        <div class="container h-3/6 mx-auto flex justify-center items-center p-2 md:p-0">
            <div class="border border-gray-300 p-6 grid grid-cols-1 gap-6 bg-white shadow-lg rounded-lg">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="grid grid-cols-2 gap-2 border border-gray-200 p-2 rounded">
                        <div class="truncate flex border rounded bg-gray-300 items-center p-2 ">
                            <input id="start_date" placeholder="Start date" value=""
                                   type="date"
                                   name="start_date"
                                   class="border p-2 rounded">
                        </div>
                        <div class="truncate appearance-none flex border rounded bg-gray-300 items-center p-2 ">
                            <input id="end_date" placeholder="End date" value=""
                                   type="date"
                                   name="end_date"
                                   class="border p-2 rounded">
                        </div>
                    </div>
                    <div class="grid grid-cols-2 gap-2 border border-gray-200 p-2 rounded">
                        <div class="truncate flex border rounded bg-gray-300 items-center p-2 ">
                            <select name="language" class="appearance-none border p-2 rounded">
                                <option value="">All languages</option>
                                <option>Afrikaans</option><option>Albanian</option><option>Arabic</option><option>Armenian</option><option>Basque</option><option>Bengali</option><option>Bulgarian</option><option>Catalan</option><option>Cambodian</option><option>Chinese (Mandarin)</option><option>Croatian</option><option>Czech</option><option>Danish</option><option>Dutch</option><option>English</option><option>Estonian</option><option>Fiji</option><option>Finnish</option><option>French</option><option>Georgian</option><option>German</option><option>Greek</option><option>Gujarati</option><option>Hebrew</option><option>Hindi</option><option>Hungarian</option><option>Icelandic</option><option>Indonesian</option><option>Irish</option><option>Italian</option><option>Japanese</option><option>Javanese</option><option>Korean</option><option>Latin</option><option>Latvian</option><option>Lithuanian</option><option>Macedonian</option><option>Malay</option><option>Malayalam</option><option>Maltese</option><option>Maori</option><option>Marathi</option><option>Mongolian</option><option>Nepali</option><option>Norwegian</option><option>Persian</option><option>Polish</option><option>Portuguese</option><option>Punjabi</option><option>Quechua</option><option>Romanian</option><option>Russian</option><option>Samoan</option><option>Serbian</option><option>Slovak</option><option>Slovenian</option><option>Spanish</option><option>Swahili</option><option>Swedish</option><option>Tamil</option><option>Tatar</option><option>Telugu</option><option>Thai</option><option>Tibetan</option><option>Tonga</option><option>Turkish</option><option>Ukrainian</option><option>Urdu</option><option>Uzbek</option><option>Vietnamese</option><option>Welsh</option><option>Xhosa</option>                            </select>
                        </div>
                        <div class="truncate flex border rounded bg-gray-300 items-center p-2 ">
                            <select name="category" class="appearance-none border p-2 rounded">
                                <option value="">All categories</option>
                                <option>Business</option><option>Food & Drink</option><option>Health</option><option>Music</option><option>Auto, Boat & Air</option><option>Charity & Causes</option><option>Community</option><option>Family & Education</option><option>Fashion</option><option>Film & Media</option><option>Hobbies</option><option>Home & Lifestyle</option><option>Performing & Visual Arts</option><option>Government</option><option>Spirituality</option><option>School Activities</option><option>Science & Tech</option><option>Holiday</option><option>Sports & Fitness</option><option>Sports & Outdoor</option><option>Other</option>                            </select>
                        </div>
                    </div>
                </div>
                <div class="flex justify-center">
                    <button class="p-2 border w-auto rounded-md bg-gray-800 text-white">Search üïµÔ∏è</button>
                    <button onclick="location.href='/';" type="reset"
                            class="p-2 border w-auto rounded-md bg-red-800 text-white">ResetÔ∏è
                    </button>
                </div>
            </div>
        </div>
    </form>


    <ul id="list" class="list-none pb-4 py-4">

    </ul>
</div>

<footer class="footer relative pt-1 border-b-2">
    <div class="container mx-auto px-6">
        <div class="mt-16 border-t-2 border-gray-300 flex flex-col items-center">
            <div class="sm:w-2/3 text-center py-6">
                <p class="text-sm font-bold mb-2">
                    ¬© 2021 AllUpcoming.events
                </p>
            </div>
        </div>
    </div>
</footer>

<script>
    window.addEventListener("load", function () {
        function sendData() {
            const XHR = new XMLHttpRequest();

            // Bind the FormData object and the form element
            const FD = new FormData(form);

            // Define what happens on successful data submission
            XHR.addEventListener("load", function (event) {
                alert(event.target.responseText);
                location.href = "/";
            });

            // Define what happens in case of error
            XHR.addEventListener("error", function (event) {
                alert('Oops! Something went wrong.');
            });

            // Set up our request
            XHR.open("POST", "add.php");

            // The data sent is what the user provided in the form
            XHR.send(FD);
        }

        // Access the form element...
        const form = document.getElementById("form");

        // ...and take over its submit event.
        form.addEventListener("submit", function (event) {
            event.preventDefault();

            sendData();
        });


        //iOS input date fix
        const startDate = document.querySelector('#start_date');
        const endDate = document.querySelector('#end_date');
        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);


        if (startDate.value !== "" && urlParams.has('start_date')) {
            startDate.placeholder = '';
        }
        if (endDate.value !== "" && urlParams.has('end_date')) {
            endDate.placeholder = '';
        }

        startDate.addEventListener('focus', (event) => {
            event.target.placeholder = '';
        });
        endDate.addEventListener('focus', (event) => {
            event.target.placeholder = '';
        });

        //get events
        const date = Math.floor((new Date()).getTime() / 1000);
        fetch(`events.php?local_date=${date}`)
            .then((response) => {
                return response.text();
            })
            .then((html) => {
                document.getElementById('list').innerHTML = html
            });
    });
</script>

</body>
</html>
