<!doctype html>
<html lang="en" class="light">
  <head>
    <title>Let's explore before? and after? methods in Rails. ||  R3ID</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="last-modified" content="2022-06-28">
    <meta name="description" content="A software engineer based in Hertfordshire who specializes in developing (and occasionally designing) exceptional, high-quality websites and applications.">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.1.1/tailwind.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
    <link rel="stylesheet" href="/assets/css/main.css" media="screen">
    <link rel="stylesheet" href="/assets/css/main.css" media="print">
    <link rel="icon" type="image/png" href="https://r3id.dev/favicon.ico">
  </head>
  <body class="home-page text-gray-500">

    <nav class="max-w-5xl m-auto p-5 flex justify-between border-solid border-b border-gray-100 bg-white dark:border-black dark:bg-blackish sticky top-0 opacity-90 z-10">
  <div class="flex items-center">
    <a href="/" class="transition-colors">
      <i class="far fa-arrow-left text-sm text-glow hover:text-gray-700"></i>
    </a>
  </div>
</nav>




<div class="default-container">
  <div class="pt-20 pb-1 inline-flex overflow-x-auto space-x-2">
		<a href="/">
			<p class="cursor-pointer text-sm text-gray-400 dark:text-gray-600 hover:font-medium hover:text-gray-700 dark:hover:text-gray-300 min-w-max">Home /</p>
		</a>
    <a href="/notes">
			<p class="cursor-pointer text-sm text-gray-400 dark:text-gray-600 hover:font-medium hover:text-gray-700 dark:hover:text-gray-300 min-w-max">Notes to self /</p>
		</a>
		<a href="/notes/rails-before-after">
			<p class="cursor-pointer text-sm text-glow dark:text-glow hover:font-medium hover:text-gray-700 dark:hover:text-gray-300 min-w-max">Let's explore before? and after? methods in Rails.</p>
		</a>
	</div>
	<div class="mb-6">
		<h1 class="pb-2 font-bold text-3xl text-gray-600">Let's explore before? and after? methods in Rails.</h1>
    
      <p class="text-sm italic mb-4">It's a 6 minute read</p>
    
	</div>
  <div class="text-content">
    <p>If you have been using Ruby, or any other language for some time. You’ve clearly used <code class="language-plaintext highlighter-rouge">&gt;</code> and <code class="language-plaintext highlighter-rouge">&lt;</code> or as we know them “greater than” and “less than”. Rails has recently added the more human readable <code class="language-plaintext highlighter-rouge">before?</code> and <code class="language-plaintext highlighter-rouge">after?</code> methods to date/time .</p>

<div class="image-center">
  <svg width="76px" height="86px" viewBox="0 0 76 86" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
      <g fill="#000000" fill-rule="nonzero">
        <g>
          <path d="M4.322,13.217 C5.135,13.961 7.662,13.506 8.633,13.405 C9.868,13.277 10.939,12.845 12.188,12.932 C13.121,12.997 14.084,12.908 14.922,13.382 C16.153,14.079 15.424,15.399 15.327,16.567 C15.109,19.2 15.995,21.618 18.33,23.051 C20.459,24.357 23.527,23.458 24.416,21.246 C24.846,20.176 25.217,18.996 25.277,17.856 C25.319,17.073 24.69,14.528 25.486,13.955 C26.157,13.472 25.971,14.106 26.586,14.246 C27.086,14.36 27.969,14.158 28.487,14.119 C29.607,14.035 30.721,13.881 31.826,13.894 C34.357,13.923 36.886,13.219 39.449,13.147 C40.705,13.112 41.968,12.923 43.224,12.97 C44.738,13.027 46.305,12.688 47.836,12.827 C48.886,12.922 50.018,13.129 50.659,14.008 C51.348,14.95 50.901,15.585 50.916,16.674 C50.952,19.259 51.232,22.216 54.116,23.051 C57.241,23.956 59.714,22.056 60.064,19.006 C60.351,16.5 59.74,12.856 62.944,12.717 C64.091,12.667 65.278,12.394 66.435,12.497 C67.823,12.62 69.189,12.896 70.588,12.977 C71.832,13.049 72.853,13.099 73.686,14.076 C73.867,14.289 74.497,14.965 74.619,15.247 C74.859,15.802 74.681,16.971 74.758,17.611 C74.799,17.955 75.119,18.604 75.135,18.783 C75.182,19.328 74.927,20.192 74.945,20.827 C74.985,22.22 75.017,23.628 75.011,25.022 C74.999,28.182 74.902,31.363 74.712,34.523 C74.567,36.937 74.595,39.515 74.599,41.79 C74.6,42.365 74.321,43.287 74.333,44.06 C74.353,45.381 74.537,46.754 74.679,48.068 C75.243,53.257 74.415,58.49 74.843,63.699 C75.035,66.039 74.888,68.612 75.155,70.981 C75.473,73.799 75.691,76.77 75.254,79.606 C75.1,80.603 75.041,82.253 74.128,82.662 C73.623,82.888 72.526,82.872 71.934,83.057 C71.16,83.298 70.421,83.6 69.612,83.718 C66.907,84.11 64.131,83.945 61.428,84.221 C58.622,84.507 55.776,84.237 52.977,84.473 C50.703,84.664 48.36,84.73 46.018,84.828 C40.426,85.062 34.658,85.174 29.014,85.053 C26.109,84.991 23.165,85.167 20.263,84.995 C17.439,84.828 14.564,84.68 11.762,84.861 C9.39,85.014 6.428,85.117 4.259,84.003 C2.355,83.024 1.666,81.143 1.471,79.07 C1.22,76.399 1.112,73.669 1.13,70.983 C1.148,68.385 1.436,65.653 1.256,62.997 C0.905,57.818 0.57,52.507 0.676,47.311 C0.79,41.696 0.584,36.013 0.76,30.406 C0.831,28.131 0.225,25.969 0.299,23.655 C0.369,21.476 0.333,18.923 0.897,16.868 C1.115,16.074 1.354,15.502 1.806,14.837 C2.529,13.774 3.214,13.799 4.322,13.217 C4.57,13.443 4.166,13.299 4.322,13.217 Z M72.034,30.266 C72.619,27.968 71.903,25.11 71.934,22.741 C71.947,21.728 72.025,20.722 72.095,19.712 C72.159,18.792 72.58,17.558 71.956,16.699 C70.975,15.349 68.304,16.213 66.927,16.212 C65.798,16.211 64.642,15.999 63.5,15.994 C61.759,15.988 62.053,16.018 61.871,17.837 C61.667,19.876 61.035,22.309 59.57,23.84 C58.222,25.25 55.911,25.801 54.041,25.238 C52.603,24.805 50.777,23.642 50.156,22.244 C49.775,21.387 49.569,20.543 49.515,19.632 C49.464,18.766 49.655,16.887 49.323,16.146 C48.928,15.266 46.758,14.761 45.728,14.868 C43.643,15.084 41.489,15.173 39.36,15.304 C36.97,15.452 34.572,15.88 32.172,15.994 C30.911,16.054 29.656,16.179 28.392,16.272 C28.162,16.289 27.414,16.198 27.229,16.336 C26.793,16.662 27.02,17.663 26.988,18.341 C26.894,20.348 26.451,22.633 25.002,24.004 C24.212,24.752 23.699,25.336 22.581,25.549 C21.517,25.752 19.946,25.766 18.926,25.389 C17.488,24.858 15.537,23.342 14.892,21.991 C14.46,21.087 14.197,20.127 14.058,19.165 C13.932,18.298 14.311,16.571 13.924,15.863 C13.573,15.221 13.722,15.616 13.034,15.464 C12.369,15.317 12.037,15.344 11.363,15.381 C10.168,15.446 8.983,15.562 7.794,15.679 C6.984,15.759 6.178,15.923 5.411,16.005 C3.792,16.179 3.859,16.017 3.828,17.626 C3.785,19.845 3.617,22.081 3.501,24.323 C3.437,25.556 3.555,26.805 3.51,28.016 C3.474,28.981 3.056,29.341 3.641,30.134 C2.676,30.512 3.327,33.192 3.311,34.19 C3.282,35.989 3.359,37.761 3.494,39.558 C3.698,42.265 3.836,45.053 3.821,47.767 C3.788,53.829 4.417,59.976 3.649,66.027 C3.457,67.541 3.574,69.061 3.507,70.583 C3.445,71.985 3.371,73.758 3.732,75.11 C4.385,77.555 4.146,80.239 7.278,80.962 C8.433,81.229 9.746,80.805 11.022,80.813 C12.46,80.823 13.933,80.989 15.343,80.966 C17.86,80.925 20.411,80.945 22.939,81.076 C26.17,81.244 29.359,81.707 32.587,81.827 C35.333,81.929 38.101,81.556 40.844,81.601 C43.532,81.645 46.285,81.561 48.966,81.483 C51.6,81.406 54.125,81.842 56.769,81.714 C59.314,81.591 61.788,81.497 64.255,81.054 C66.475,80.655 69.282,80.909 71.22,79.552 C72.557,78.616 71.748,77.868 71.966,76.694 C72.029,76.353 72.322,76.164 72.373,75.843 C72.454,75.335 72.314,74.488 72.323,73.927 C72.364,71.296 72.268,68.829 72.304,66.161 C72.348,62.91 72.196,59.717 72.162,56.448 C72.127,53.113 72.286,49.761 72.218,46.441 C72.156,43.45 72.291,40.635 72.243,37.665 C72.226,36.648 72.208,35.661 72.166,34.609 C72.127,33.657 72.678,30.995 72.034,30.266 C72.072,30.117 72.23,30.489 72.034,30.266 Z" id="Shape"></path>
          <path d="M52.675,3.799 C53.515,3.469 53.622,2.019 54.333,1.465 C55.189,0.798 56.659,0.715 57.544,1.296 C59.264,2.426 59.4,5.137 59.393,6.959 C59.384,9.16 59.473,11.361 59.466,13.563 C59.46,15.408 59.468,17.515 58.705,19.236 C57.661,21.59 56.199,22.117 53.972,20.77 C52.061,19.614 52.068,17.065 51.957,15.083 C51.849,13.153 51.771,11.229 51.959,9.294 C52.008,8.788 52.148,8.254 52.144,7.744 C52.141,7.416 51.949,6.97 51.969,6.676 C52.03,5.792 53,4.664 52.675,3.799 C53.138,3.616 52.831,4.214 52.675,3.799 Z" id="Path"></path>
          <path d="M16.763,3.919 C17.59,3.557 17.641,2.105 18.331,1.524 C19.161,0.825 20.627,0.685 21.533,1.232 C23.294,2.295 23.535,5 23.597,6.82 C23.672,9.019 23.845,11.215 23.921,13.416 C23.985,15.26 24.074,17.365 23.377,19.114 C22.424,21.506 20.983,22.089 18.706,20.827 C16.752,19.745 16.662,17.197 16.476,15.221 C16.295,13.297 16.143,11.377 16.257,9.436 C16.287,8.928 16.407,8.39 16.383,7.88 C16.368,7.552 16.159,7.114 16.168,6.819 C16.195,5.936 17.121,4.772 16.763,3.919 C17.219,3.72 16.935,4.329 16.763,3.919 Z" id="Path"></path>
          <path d="M67.428,70.826 C66.731,70.974 66.67,72.092 66.307,72.54 C65.73,73.254 65.66,72.847 64.823,73.028 C64.256,73.15 63.787,73.625 63.214,73.753 C62.211,73.977 60.856,73.674 59.822,73.676 C56.614,73.683 53.521,73.396 50.332,73.406 C46.407,73.417 42.526,72.912 38.633,72.917 C34.879,72.922 31.186,73.237 27.424,73.227 C23.568,73.217 19.628,73.624 15.772,73.511 C14.449,73.472 12.418,73.242 11.465,72.268 C10.529,71.311 10.448,70.209 10.294,68.981 C9.503,62.682 9.516,56.025 9.582,49.743 C9.613,46.804 9.903,44.014 9.914,41.089 C9.921,39.234 9.886,37.387 9.936,35.536 C9.951,34.973 9.816,33.799 9.953,33.323 C10.223,32.39 10.588,32.734 11.239,32.921 C11.523,31.739 12.776,31.788 13.794,31.573 C15.187,31.278 16.624,31.103 18.112,31.002 C21.289,30.786 24.573,30.645 27.721,30.744 C33.992,30.941 40.187,30.591 46.471,30.472 C49.199,30.42 51.966,30.652 54.662,30.426 C56.191,30.298 57.7,30.47 59.222,30.378 C59.992,30.331 60.839,30.111 61.608,30.165 C62.206,30.207 62.872,30.559 63.479,30.636 C64.068,30.71 64.884,30.43 65.417,30.577 C66.371,30.84 66.163,31.45 66.186,32.267 C66.233,33.917 66.649,35.611 66.675,37.328 C66.723,40.478 66.183,43.612 66.243,46.78 C66.316,50.675 66.55,54.547 66.802,58.433 C66.938,60.526 66.973,62.668 66.954,64.764 C66.943,65.955 66.969,67.143 67.041,68.332 C67.075,68.915 66.931,70.404 67.428,70.826 C66.946,70.929 67.14,70.581 67.428,70.826 Z M63.578,33.618 C63.378,32.684 62.113,32.728 61.449,32.776 C59.583,32.911 57.73,32.83 55.862,32.864 C53.066,32.914 50.286,32.959 47.499,32.911 C43.912,32.849 40.347,32.681 36.769,32.724 C33.738,32.761 30.714,33.122 27.676,33.009 C24.379,32.886 21.177,32.86 17.932,33.212 C16.491,33.368 14.623,33.069 13.305,33.788 C12.241,34.368 12.243,36.03 12.061,37.136 C11.52,40.412 11.899,43.519 11.832,46.814 C11.766,50.055 11.669,53.311 11.733,56.625 C11.797,59.886 11.898,63.113 12.145,66.364 C12.218,67.331 12.158,68.947 12.751,69.736 C12.683,69.646 13.918,70.533 13.918,70.533 C14.434,70.891 15.108,71.049 15.742,71.162 C17.246,71.431 18.566,71.276 20.058,71.183 C21.734,71.078 23.332,71.187 25.013,71.182 C27.717,71.174 30.417,70.733 33.1,70.814 C38.943,70.989 44.777,70.656 50.591,71.094 C53.107,71.284 55.626,71.267 58.192,71.432 C59.419,71.511 61.281,71.976 62.44,71.566 C62.747,71.458 62.712,71.513 62.987,71.291 C62.988,71.185 62.988,71.079 62.989,70.973 C62.891,70.677 63.003,70.533 63.326,70.539 C63.709,69.795 63.998,69.152 64.159,68.319 C65.296,62.444 64.127,56.344 64.347,50.443 C64.452,47.604 64.24,44.609 64.333,41.724 C64.378,40.335 64.16,38.909 64.191,37.492 C64.197,37.161 64.588,32.921 63.578,33.618 C63.559,33.533 63.813,33.455 63.578,33.618 Z" id="Shape"></path>
          <path d="M41.362,43.831 C43.499,43.731 45.651,43.72 47.768,43.484 C48.068,43.45 48.92,43.57 49.137,43.423 C49.615,43.1 49.371,42.767 49.4,42.118 C49.441,41.204 49.658,39.792 50.338,39.111 C51.498,37.95 53.814,38.771 54.025,40.338 C54.129,41.112 53.557,42.515 54.278,43.155 C54.909,43.715 56.533,43.227 57.273,43.313 C58.332,43.436 59.837,43.738 59.493,45.229 C59.316,45.995 58.701,46.292 58.013,46.533 C57.504,46.711 56.957,46.751 56.442,46.89 C56.145,46.97 54.769,47.126 54.627,47.231 C54.113,47.612 54.531,48.907 54.546,49.43 C54.576,50.478 54.519,51.535 54.538,52.585 C54.547,53.087 54.298,55.001 54.697,55.333 C54.711,55.344 56.116,55.125 56.111,55.125 C56.911,55.074 57.636,55.134 58.408,55.305 C60.13,55.687 60.724,57.126 59.03,58.164 C58.264,58.633 57.195,58.986 56.341,59.231 C56.124,59.293 54.684,59.437 54.577,59.539 C54.288,59.815 54.376,61.946 54.443,62.332 C54.712,63.88 54.822,65.181 54.185,66.631 C53.836,67.425 53.974,67.633 52.889,67.6380202 C51.697,67.643 51.172,66.717 50.853,65.752 C50.323,64.152 50.409,62.584 50.361,60.943 C50.326,59.756 50.175,59.716 49.09,59.728 C47.697,59.743 46.313,59.606 44.925,59.643 C44.095,59.665 43.24,59.637 42.413,59.693 C41.065,59.785 40.884,59.825 40.865,61.162 C40.85,62.196 41.141,63.363 40.809,64.365 C40.596,65.007 39.68,66.589 39.031,66.816 C37.223,67.448 36.698,64.397 36.619,63.243 C36.567,62.48 36.94,61.092 36.667,60.489 C36.285,59.647 34.356,59.981 33.429,60.001 C31.233,60.05 29.076,60.3 26.871,60.314 C26.681,60.315 26.057,60.206 25.906,60.335 C25.558,60.632 25.929,62.253 25.959,62.66 C26.002,63.254 25.57,65.158 26.14,65.343 C25.599,65.596 25.909,66.127 25.462,66.528 C25.262,66.707 24.378,66.79 24.153,66.77 C22.89,66.659 22.478,65.448 22.268,64.381 C22.135,63.709 21.989,63.018 21.914,62.32 C21.86,61.819 22.029,61.128 21.827,60.665 C21.507,59.932 21.554,60.067 20.568,60.077 C19.294,60.089 15.326,60.121 15.657,57.978 C15.958,56.03 20.363,55.947 21.737,56.05 C21.737,53.628 21.477,51.179 21.439,48.72 C21.412,46.95 20.896,47.718 19.376,47.494 C18.566,47.375 17.492,46.963 17.254,46.073 C16.953,44.946 18.25,44.391 19.098,44.089 C19.576,43.919 20.12,43.842 20.615,43.742 C21.76,43.512 21.319,43.695 21.63,42.823 C22.138,41.397 21.927,35.713 24.809,37.927 C26.075,38.9 26.16,40.813 26.17,42.302 C26.175,42.95 25.879,43.626 26.393,43.988 C26.64,44.162 27.73,44.032 28.016,44.05 C29.501,44.147 30.977,44.152 32.464,44.138 C33.239,44.131 36.283,44.53 36.762,43.896 C37.66,42.706 35.531,37.497 38.237,37.527 C39.358,37.539 40.606,39.07 40.948,39.977 C41.185,40.606 41.345,41.325 41.38,41.993 C41.402,42.51 41.095,43.355 41.362,43.831 C41.798,43.811 41.34,43.793 41.362,43.831 Z M36.606,55.809 C36.773,54.354 36.543,52.825 36.655,51.354 C36.704,50.704 37.197,48.027 36.857,47.553 C36.412,46.934 33.639,47.405 32.825,47.375 C31.139,47.313 29.37,47.315 27.684,47.416 C27.352,47.436 26.587,47.361 26.303,47.523 C25.824,47.796 26.098,47.656 25.92,48.27 C25.651,49.198 25.772,50.445 25.709,51.423 C25.641,52.473 25.584,53.526 25.597,54.578 C25.6,54.796 25.5,55.849 25.653,55.987 C25.822,56.14 26.284,55.929 26.47,55.945 C27.983,56.073 29.687,55.841 31.218,55.865 C33.012,55.895 34.811,55.851 36.606,55.809 C36.642,55.498 35.894,55.826 36.606,55.809 Z M50.027,55.481 C50.53,54.559 49.956,52.68 49.904,51.616 C49.864,50.804 50.239,47.438 49.679,46.983 C49.095,46.508 46.464,47.18 45.744,47.217 C44.71,47.27 42.506,46.803 41.568,47.327 C40.578,47.88 40.99,50.506 41.006,51.571 C41.016,52.231 40.641,55.413 41.094,55.809 C41.722,56.358 44.731,55.719 45.601,55.668 C47.087,55.582 48.548,55.602 50.027,55.481 C50.121,55.308 49.468,55.527 50.027,55.481 Z" id="Shape"></path>
        </g>
      </g>
    </g>
  </svg>
</div>

<p>So previously we would compare two date/time objects using the <code class="language-plaintext highlighter-rouge">&gt;</code> and <code class="language-plaintext highlighter-rouge">&lt;</code> operators.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Time.utc(2020, 4, 4, 00, 00, 00) &lt; Time.utc(2019, 4, 4, 00, 00, 00)
# =&gt; false

Date.tomorrow &gt; Date.today
# =&gt; true
</code></pre></div></div>

<p>While we are used to this code by now, it’s not so easy to read. We would read it as Date.tomorrow is “greater than” Date.today.</p>

<p><strong>So how can the <code class="language-plaintext highlighter-rouge">before?</code> and <code class="language-plaintext highlighter-rouge">after? </code>methods make this much better?</strong></p>

<p>Normally, when we compare dates in English, we would say:-</p>

<p><em>“The due date for the project is before the end of month”.</em>
or
<em>“All submissions after the end date will be ignored.”</em></p>

<p>So to match these, we now have the <code class="language-plaintext highlighter-rouge">before?</code> and <code class="language-plaintext highlighter-rouge">after?</code> comparison methods.</p>

<p>By utilising the new methods we can compare date and time values like so</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>due_date = 30.days.from_now
due_date.before?(Date.today)
# =&gt; false

due_date.after?(Date.today)
# =&gt; true
</code></pre></div></div>

<p>These new comparison methods help make our code much more readable, and would read like <em>“Is due date before today or after today?”</em></p>

<p>We will start to explore more recent features of Rails in upcoming notes. Thanks for reading.</p>

  </div>
</div>


    <div class="py-20 grid justify-center">
  <div class="w-full flex align-middle space-x-4">
    <a href="https://www.linkedin.com/in/alanr3id/" title="LinkedIn">
      <i class="fab fa-linkedin-in text-xl text-blue-600"></i>
    </a>
    <a href="https://twitter.com/alan_r3id" target="_blank" title="Twitter">
      <i class="fab fa-twitter text-xl text-blue-300"></i>
    </a>
    <a href="https://dribbble.com/r3id" target="_blank" title="Dribbble">
      <i class="fab fa-dribbble text-xl text-pink-600"></i>
    </a>
    <a href="https://github.com/r3id" target="_blank" title="GitHub">
      <i class="fab fa-github text-xl text-black"></i>
    </a>
    <a href="https://medium.com/@r3id" target="_blank" title="Medium">
      <i class="fab fa-medium text-xl text-black"></i>
    </a>
  </div>
  <p class="pt-5 pb-5 text-xs font-medium text-center text-gray-400 dark:text-gray-200">
    <a href="/privacy">Privacy</a>
  </p>
  <p class="pt-5 pb-5 text-xs font-medium text-center text-gray-300 dark:text-gray-200">
    © 2021 Alan Reid
  </p>
</div>


    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-68933763-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-68933763-1');
    </script>
  </body>
</html>
